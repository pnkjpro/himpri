import{v as w,s as y,o as f,M as k,r as C,a as L,c as n,b as t,g as l,u as c,f as p,F as I,d as T,j as a,D as d,t as i,l as D}from"./index-POsu4t_Q.js";import{u as M}from"./mainStore-BMfi6C0O.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{f as E,a as N}from"./fromUnixTime-Bu3IzSon.js";import"./normalizeDates-MJlMPps6.js";import"./en-US-ClfMaaVW.js";import"./differenceInSeconds-C3I0pIaR.js";const j={class:"flex flex-col min-h-screen bg-gray-100"},B={class:"p-4"},F={class:"flex justify-between items-center mb-4"},S={href:"#",class:"flex items-center text-gray-700"},$={class:"space-y-4"},z=["onClick"],A={class:"w-1/4 flex-shrink-0"},R=["src","alt"],U={class:"w-3/4 pl-4 flex flex-col justify-between"},q={class:"text-center mb-2"},G={class:"bg-purple-50 text-purple-700 px-6 py-1 rounded-full inline-block"},P={class:"mb-2"},Z={class:"text-md font-bold text-gray-700 truncate"},H={class:"mb-2"},J={key:0,class:"text-red-500 font-bold flex items-center"},K={key:1,class:"text-blue-500 font-medium"},O={class:"flex items-center"},Q={class:"text-gray-600"},W={__name:"ListContests",setup(X){const _=D();w();const r=M(),{contests:x}=y(r),v=async s=>{await r.fetchCurrentContest(s),_.push("/quiz/variants")};f(()=>{r.fetchContests(),r.fetchCategories()});const g=k(()=>{const s=Math.floor(Date.now()/1e3);return x.value.filter(e=>e.end_time>s)}),h=s=>{let e="/images/fallbackImage.png";return s&&(e=`https://api.himpri.com/storage/${s}`),e},m=C(new Date);f(()=>{const s=setInterval(()=>{m.value=new Date},6e4);L(()=>{clearInterval(s)})});function u(s){const e=E(Number(s));return m.value>=e?{isLive:!0,text:"LIVE"}:{isLive:!1,text:N(e)+" left"}}return(s,e)=>(a(),n("div",j,[t("div",{onClick:e[0]||(e[0]=o=>s.navigateToBack()),class:"bg-orange-500 text-white p-3 flex items-center"},[l(c(d),{icon:"arrow-left",class:"mr-2"}),e[1]||(e[1]=t("span",{class:"font-medium"},"Fund Management",-1))]),t("div",B,[t("div",F,[e[3]||(e[3]=t("h2",{class:"text-2xl font-bold text-gray-700"},"Upcoming Contest",-1)),t("a",S,[e[2]||(e[2]=p(" View All ")),l(c(d),{icon:"arrow-right",class:"ml-2"})])]),t("div",$,[(a(!0),n(I,null,T(g.value,(o,b)=>(a(),n("div",{key:b,class:"bg-white rounded-lg overflow-hidden shadow-sm border border-gray-200"},[t("div",{onClick:Y=>v(o.node_id),class:"flex p-4"},[t("div",A,[t("img",{src:h(o.banner_image),alt:o.title,class:"w-full h-full object-cover rounded-lg"},null,8,R)]),t("div",U,[t("div",q,[t("span",G,i(o.category.name),1)]),t("div",P,[t("h3",Z,i(o.title),1)]),t("div",H,[u(o.start_time).isLive?(a(),n("p",J,e[4]||(e[4]=[t("span",{class:"inline-block h-2 w-2 rounded-full bg-red-500 mr-2"},null,-1),p(" LIVE ")]))):(a(),n("p",K,i(u(o.start_time).text),1))]),t("div",O,[e[5]||(e[5]=t("span",{class:"text-orange-400 font-bold mr-2"},"MEGA PRIZE",-1)),l(c(d),{icon:"trophy",class:"text-gray-600 mx-2"}),t("span",Q,"Prize â‚¹ "+i(o.prize_money),1)])])],8,z)]))),128))])])]))}},ie=V(W,[["__scopeId","data-v-5009b551"]]);export{ie as default};
