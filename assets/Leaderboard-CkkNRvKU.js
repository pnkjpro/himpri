import{u as Y}from"./quizStore-C79f8sBm.js";import{u as z,s as C,B as P,c as k,b as r,k as D,t as g,i as _,e as B,F as H,d as V,o as T,n as y,m as A}from"./index-BuTOE13H.js";import{t as F,c as M,n as v,m as j,a as L}from"./normalizeDates-D28e74vf.js";import{d as R}from"./differenceInCalendarDays-Kyai2brU.js";import{g as S,d as U,c as N,a as Q,b as $}from"./differenceInSeconds-DCCrcfcw.js";import"./mainStore-XEhf3XDu.js";function p(o,s,t){const e=F(o,t==null?void 0:t.in);return isNaN(s)?M(o,NaN):(s&&e.setDate(e.getDate()+s),e)}function O(o,s,t){const e=F(o,t==null?void 0:t.in);if(isNaN(s))return M(o,NaN);if(!s)return e;const n=e.getDate(),d=M(o,e.getTime());d.setMonth(e.getMonth()+s+1,0);const i=d.getDate();return n>=i?d:(e.setFullYear(d.getFullYear(),d.getMonth(),n),e)}function b(o,s,t){const{years:e=0,months:n=0,weeks:d=0,days:i=0,hours:c=0,minutes:a=0,seconds:m=0}=s,f=F(o,t==null?void 0:t.in),x=n||e?O(f,n+e*12):f,h=i||d?p(x,i+d*7):x,l=a+c*60,w=(m+l*60)*1e3;return M(o,+h+w)}function W(o,s,t){const[e,n]=v(t==null?void 0:t.in,o,s);return e.getFullYear()-n.getFullYear()}function q(o,s,t){const[e,n]=v(t==null?void 0:t.in,o,s),d=I(e,n),i=Math.abs(R(e,n));e.setDate(e.getDate()-d*i);const c=+(I(e,n)===-d),a=d*(i-c);return a===0?0:a}function I(o,s){const t=o.getFullYear()-s.getFullYear()||o.getMonth()-s.getMonth()||o.getDate()-s.getDate()||o.getHours()-s.getHours()||o.getMinutes()-s.getMinutes()||o.getSeconds()-s.getSeconds()||o.getMilliseconds()-s.getMilliseconds();return t<0?-1:t>0?1:t}function E(o,s,t){const[e,n]=v(t==null?void 0:t.in,o,s),d=(+e-+n)/j;return S(t==null?void 0:t.roundingMethod)(d)}function G(o,s,t){const e=U(o,s)/L;return S(t==null?void 0:t.roundingMethod)(e)}function J(o,s,t){const[e,n]=v(t==null?void 0:t.in,o,s),d=N(e,n),i=Math.abs(W(e,n));e.setFullYear(1584),n.setFullYear(1584);const c=N(e,n)===-d,a=d*(i-+c);return a===0?0:a}function K(o,s){const[t,e]=v(o,s.start,s.end);return{start:t,end:e}}function X(o,s){const{start:t,end:e}=K(s==null?void 0:s.in,o),n={},d=J(e,t);d&&(n.years=d);const i=b(t,{years:n.years}),c=Q(e,i);c&&(n.months=c);const a=b(i,{months:n.months}),m=q(e,a);m&&(n.days=m);const f=b(a,{days:n.days}),x=E(e,f);x&&(n.hours=x);const h=b(f,{hours:n.hours}),l=G(e,h);l&&(n.minutes=l);const u=b(h,{minutes:n.minutes}),w=$(e,u);return w&&(n.seconds=w),n}const Z={class:"min-h-screen bg-gradient-to-b from-rose-300 to-rose-600 p-4 flex flex-col items-center"},ee={class:"w-full max-w-md mt-8 mb-6 text-center"},te={class:"bg-amber-400 inline-flex items-center justify-center px-6 py-3 rounded-full"},se={class:"text-black font-bold text-xl flex items-center"},ne={class:"bg-white rounded-3xl p-6 w-full max-w-md shadow-lg mb-6"},re={class:"grid grid-cols-2 gap-4"},oe={class:"bg-blue-50 rounded-xl p-4 text-center"},ae={class:"text-blue-600 text-3xl font-bold mb-1"},de={class:"bg-green-50 rounded-xl p-4 text-center"},le={class:"text-green-600 text-3xl font-bold mb-1"},ie={class:"bg-white rounded-3xl p-6 w-full max-w-md shadow-lg mb-8"},ce={class:"flex justify-between items-center mb-6"},ue={class:"text-sm bg-gray-100 px-3 py-1 rounded-full text-gray-600"},fe={class:"space-y-3"},me={class:"font-bold"},ge={class:"ml-2 flex-grow"},xe={class:"font-bold text-gray-800"},he={class:"ml-2 flex-grow"},be={class:"font-bold text-gray-800"},De={__name:"Leaderboard",setup(o){const s=A();z();const t=Y(),{leaderboard:e}=C(t),n=c=>{const a=X({start:0,end:c*1e3}),m=a.minutes??0,f=a.seconds??0;return`${m}m ${f}s`},d=P(()=>e.value.topPlayers.map(c=>({...c,durationFormatted:n(c.duration)}))),i=()=>{s.back()};return(c,a)=>{var m,f,x,h;return T(),k("div",Z,[r("div",ee,[a[2]||(a[2]=r("h1",{class:"text-3xl font-bold text-white mb-2"},"Quiz Complete!",-1)),r("div",te,[r("span",se,[a[1]||(a[1]=r("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 mr-2",viewBox:"0 0 20 20",fill:"currentColor"},[r("path",{"fill-rule":"evenodd",d:"M5 3a2 2 0 012-2h6a2 2 0 012 2v1h2a2 2 0 012 2v11a2 2 0 01-2 2H3a2 2 0 01-2-2V6a2 2 0 012-2h2V3zm6 0H9v1h2V3z","clip-rule":"evenodd"})],-1)),D(" Your Score: "+g(((f=(m=_(e))==null?void 0:m.userPoints)==null?void 0:f.score)||0)+" Points ",1)])])]),r("div",ne,[a[5]||(a[5]=r("h2",{class:"text-xl font-bold text-gray-800 mb-4 flex items-center"},[r("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 mr-2 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})]),D(" Quiz Statistics ")],-1)),r("div",re,[r("div",oe,[r("div",ae,g(((x=_(e))==null?void 0:x.totalParticipants)||0),1),a[3]||(a[3]=r("div",{class:"text-blue-800 text-sm"},"Total Players",-1))]),r("div",de,[r("div",le,g(((h=_(e).topPlayers[0])==null?void 0:h.score)||0),1),a[4]||(a[4]=r("div",{class:"text-green-800 text-sm"},"Top Score",-1))])])]),r("div",ie,[r("div",ce,[a[6]||(a[6]=r("h2",{class:"text-xl font-bold text-gray-800 flex items-center"},[r("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 mr-2 text-amber-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})]),D(" Leaderboard ")],-1)),r("div",ue," Top "+g(_(e).topPlayers.length)+" Players ",1)]),a[7]||(a[7]=B('<div class="flex items-center py-2 px-4 mb-2 border-b-2 border-gray-200 font-bold text-gray-700"><div class="w-10 flex-shrink-0"></div><div class="ml-3 flex-grow">Name</div><div class="ml-3 flex-grow">Duration</div><div class="w-16 text-center">Score</div><div class="w-16 text-center">Reward</div></div>',1)),r("div",fe,[(T(!0),k(H,null,V(d.value,(l,u)=>(T(),k("div",{key:l.id,class:y(["flex items-center py-3 px-4 rounded-xl",{"bg-amber-100 border-l-4 border-amber-500":l.isUser,"bg-gray-50":!l.isUser&&u%2===0,"bg-white":!l.isUser&&u%2!==0}])},[r("div",{class:y(["w-8 h-8 flex-shrink-0 flex items-center justify-center",{"bg-yellow-500 text-white rounded-full":u===0,"bg-gray-300 text-white rounded-full":u===1,"bg-amber-700 text-white rounded-full":u===2,"text-gray-700":u>2}])},[r("span",me,g(u+1),1)],2),r("div",ge,[r("div",xe,g(l.name),1)]),r("div",he,[r("div",be,g(l.durationFormatted),1)]),r("div",{class:y(["w-16 text-center font-bold text-md",{"text-amber-600":l.isUser,"text-gray-800":!l.isUser}])},g(l.score),3),r("div",{class:y(["w-16 text-center font-bold text-sm",{"text-green-600":u===0,"text-blue-600":u===1||u===2,"text-gray-600":u>2}])}," Rs "+g(l.reward||0),3)],2))),128))])]),r("button",{onClick:a[0]||(a[0]=l=>i()),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full"}," Back To My Contest ")])}}};export{De as default};
