import{v as y,s as h,M as k,r as w,o as C,a as L,c as n,b as t,g as c,u as r,h as I,F as T,d as z,j as a,D as d,t as i,f as N,l as D}from"./index-BjL3RERy.js";import{u as V}from"./mainStore-BHrAYUjO.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{f as B,a as E}from"./fromUnixTime-Bu3IzSon.js";import"./normalizeDates-MJlMPps6.js";import"./en-US-ClfMaaVW.js";import"./differenceInSeconds-C3I0pIaR.js";const M={class:"flex flex-col min-h-screen bg-gray-100"},S={class:"p-4"},$={key:0,class:"flex flex-col items-center justify-center py-8"},F={key:1,class:"flex flex-col items-center justify-center py-12"},P={class:"space-y-4"},R=["onClick"],U={class:"w-1/4 flex-shrink-0"},A=["src","alt"],O={class:"w-3/4 pl-4 flex flex-col justify-between"},Q={class:"text-center mb-2"},q={class:"bg-purple-50 text-purple-700 px-6 py-1 rounded-full inline-block"},Z={class:"mb-2"},G={class:"text-md font-bold text-gray-700 truncate"},H={class:"mb-2"},J={key:0,class:"text-red-500 font-bold flex items-center"},K={key:1,class:"text-blue-500 font-medium"},W={class:"flex items-center"},X={class:"text-gray-600"},Y={__name:"CategoryQuizzes",setup(ee){const m=D();y();const l=V(),{catContests:x}=h(l),_=async s=>{await l.fetchCurrentContest(s),m.push("/quiz/variants")},g=()=>{m.back()},u=k(()=>{const s=Math.floor(Date.now()/1e3);return x.value.filter(e=>e.end_time>s)}),v=s=>{let e="/images/fallbackImage.png";return s&&(e=`https://api.himpri.com/storage/${s}`),e},f=w(new Date);C(()=>{const s=setInterval(()=>{f.value=new Date},6e4);L(()=>{clearInterval(s)})});function p(s){const e=B(Number(s));return f.value>=e?{isLive:!0,text:"LIVE"}:{isLive:!1,text:E(e)+" left"}}return(s,e)=>(a(),n("div",M,[t("div",{onClick:e[0]||(e[0]=o=>g()),class:"bg-orange-500 text-white p-3 flex items-center"},[c(r(d),{icon:"arrow-left",class:"mr-2"}),e[1]||(e[1]=t("span",{class:"font-medium"},"Upcoming Contests",-1))]),t("div",S,[r(l).loading?(a(),n("div",$,e[2]||(e[2]=[t("div",{class:"w-12 h-12 border-4 border-orange-300 border-t-orange-500 rounded-full animate-spin mb-4"},null,-1),t("p",{class:"text-gray-600"},"Loading contests...",-1)]))):u.value.length===0?(a(),n("div",F,[c(r(d),{icon:"calendar-times",class:"text-gray-400 text-5xl mb-4"}),e[3]||(e[3]=t("h3",{class:"text-lg font-medium text-gray-600 mb-2"},"No Active Contests",-1)),e[4]||(e[4]=t("p",{class:"text-gray-500 text-center"},"There are no upcoming contests at this time. Please check back later!",-1))])):I("",!0),t("div",P,[(a(!0),n(T,null,z(u.value,(o,b)=>(a(),n("div",{key:b,class:"bg-white rounded-lg overflow-hidden shadow-sm border border-gray-200"},[t("div",{onClick:te=>_(o.node_id),class:"flex p-4"},[t("div",U,[t("img",{src:v(o.banner_image),alt:o.title,class:"w-full h-full object-cover rounded-lg"},null,8,A)]),t("div",O,[t("div",Q,[t("span",q,i(o.category.name),1)]),t("div",Z,[t("h3",G,i(o.title),1)]),t("div",H,[p(o.start_time).isLive?(a(),n("p",J,e[5]||(e[5]=[t("span",{class:"inline-block h-2 w-2 rounded-full bg-red-500 mr-2"},null,-1),N(" LIVE ")]))):(a(),n("p",K,i(p(o.start_time).text),1))]),t("div",W,[e[6]||(e[6]=t("span",{class:"text-orange-400 font-bold mr-2"},"PRIZE POOL",-1)),c(r(d),{icon:"trophy",class:"text-gray-600 mx-2"}),t("span",X,"Prize â‚¹ "+i(o.prize_money),1)])])],8,R)]))),128))])])]))}},ce=j(Y,[["__scopeId","data-v-c16f18c2"]]);export{ce as default};
