import{s as L,u as Q,r as m,B as S,y as M,c as a,b as t,f as T,C as B,F as f,d as h,i as u,k as p,t as o,h as V,p as A,o as n,m as N,x as j}from"./index-DWkRPNwz.js";import{u as F}from"./adminStore-B6_oyEo5.js";import{u as H}from"./mainStore-BSPFtNbQ.js";const D={class:"container mx-auto px-4 py-8"},E={class:"bg-white rounded-lg shadow-md p-6"},R={class:"flex justify-between items-center mb-6"},U={class:"flex space-x-3"},$={class:"relative"},P=["value"],W={key:0,class:"flex justify-center items-center py-12"},G={key:1,class:"text-center py-12"},J={key:2},K={class:"overflow-x-auto"},O={class:"min-w-full bg-white"},X={class:"divide-y divide-gray-200"},Y={class:"py-3 px-4 text-gray-800"},Z={class:"py-3 px-4 text-gray-800"},I={class:"py-3 px-4 text-gray-800"},q={class:"py-3 px-4 text-gray-800"},tt={class:"py-3 px-4 text-gray-800"},et={class:"py-3 px-4 text-gray-800"},st={class:"py-3 px-4 text-gray-800"},ot={class:"py-3 px-4 text-gray-800"},at={class:"py-3 px-4 text-gray-800"},nt={class:"py-3 px-4 text-gray-800"},lt={class:"py-3 px-4 text-gray-800"},it={class:"py-3 px-4 text-gray-800"},rt=["onClick"],dt={class:"mt-6 flex justify-between items-center"},ct={class:"text-sm text-gray-500"},ut={class:"font-medium"},pt={key:0,class:"mt-6 text-center"},xt=["disabled"],mt={key:0,class:"flex items-center justify-center"},yt={key:1,class:"flex items-center justify-center"},bt={__name:"QuizList",setup(gt){const i=F(),y=H(),{categories:_}=L(y),v=Q(),b=N(),r=m(1),g=m(!0),x=m(""),d=S(()=>i.quizList||[]),c=async()=>{const l=await i.showQuizList(r.value,x.value);l.success?l.pagination?r.value=r.value+1:g.value=!1:v.error("Failed to get quizzes")},w=()=>{r.value=1,c()},k=()=>{c()};M(()=>{c(),y.fetchCategories()});const C=l=>{console.log(l),i.showUsersByQuiz(l),b.push(`/admin/quiz/show/${l}`)};return(l,e)=>{const z=j("font-awesome-icon");return n(),a("div",D,[t("div",E,[t("div",R,[e[3]||(e[3]=t("h1",{class:"text-2xl font-bold text-gray-800"},"Quiz Management",-1)),t("div",U,[t("div",$,[T(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>x.value=s),onChange:w,class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"},[e[1]||(e[1]=t("option",{value:""},"All Categories",-1)),(n(!0),a(f,null,h(u(_),s=>(n(),a("option",{key:s,value:s.id},o(s.name),9,P))),128))],544),[[B,x.value]])]),t("button",{onClick:k,class:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md flex items-center"},e[2]||(e[2]=[t("span",{class:"mr-2"},"Refresh",-1),t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z","clip-rule":"evenodd"})],-1)]))])]),u(i).loading&&!d.value.length?(n(),a("div",W,e[4]||(e[4]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"},null,-1)]))):d.value.length?(n(),a("div",J,[t("div",K,[t("table",O,[e[6]||(e[6]=t("thead",{class:"bg-gray-100"},[t("tr",null,[t("th",{class:"py-3 px-4 text-left text-gray-600 font-medium"},"Node ID"),t("th",{class:"py-3 px-4 text-left text-gray-600 font-medium"},"Title"),t("th",{class:"py-3 px-4 text-left text-gray-600 font-medium"},"Spot Limit"),t("th",{class:"py-3 px-4 text-left text-gray-600 font-medium"},"Entry Fees"),t("th",{class:"py-3 px-4 text-left text-gray-600 font-medium"},"Prize Money"),t("th",{class:"py-3 px-4 text-left text-gray-600 font-medium"},"Start Time"),t("th",{class:"py-3 px-4 text-left text-gray-600 font-medium"},"End Time"),t("th",{class:"py-3 px-4 text-left text-gray-600 font-medium"},"Category"),t("th",{class:"py-3 px-4 text-left text-gray-600 font-medium"},"Timer"),t("th",{class:"py-3 px-4 text-left text-gray-600 font-medium"},"Winners"),t("th",{class:"py-3 px-4 text-left text-gray-600 font-medium"},"Total Questions"),t("th",{class:"py-3 px-4 text-left text-gray-600 font-medium"},"Action")])],-1)),t("tbody",X,[(n(!0),a(f,null,h(d.value,s=>(n(),a("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",Y,o(s.node_id),1),t("td",Z,o(s.title),1),t("td",I,o(s.spot_limit),1),t("td",q,o(s.entry_fees),1),t("td",tt,o(s.prize_money),1),t("td",et,o(s.start_time),1),t("td",st,o(s.end_time),1),t("td",ot,o(s.category.name),1),t("td",at,o(s.quiz_timer),1),t("td",nt,o(s.winners),1),t("td",lt,o(s.totalQuestion),1),t("td",it,[t("button",{type:"button",onClick:ft=>C(s.node_id),class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"}," Show Quiz ",8,rt)])]))),128))])])]),t("div",dt,[t("div",ct,[e[7]||(e[7]=p(" Showing ")),t("span",ut,o(d.value.length),1),e[8]||(e[8]=p(" quizzes "))])]),g.value?(n(),a("div",pt,[t("button",{onClick:c,class:"px-8 py-3 bg-gradient-to-r from-blue-600 to-violet-600 text-white rounded-full shadow-lg hover:from-blue-700 hover:to-cyan-700 focus:outline-none focus:ring-2 focus:ring-red-400 transition-all transform hover:scale-105",disabled:u(i).loading},[u(i).loading?(n(),a("span",mt,e[9]||(e[9]=[t("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),p(" Loading... ")]))):(n(),a("span",yt,[e[10]||(e[10]=p(" Load More ")),V(z,{icon:"chevron-down",class:"ml-2"})]))],8,xt)])):A("",!0)])):(n(),a("div",G,e[5]||(e[5]=[t("p",{class:"text-gray-500"},"No quizzes found",-1)])))])])}}};export{bt as default};
