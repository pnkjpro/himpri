import{D as w,r as u,E as o}from"./index-B9NHMJu8.js";const b=w("admin",()=>{const t=u(!1),l=u(null),d=u([]),i=u([]),c=u([]);async function m(a){var r,e;try{t.value=!0;const s=await o.post("/admin/category/create",a);return{success:s.data.success,message:s.data.message}}catch(s){return console.error("Error using Lifeline:",s),{success:!1,message:((e=(r=s.response)==null?void 0:r.data)==null?void 0:e.message)||"An unexpected error occurred"}}finally{t.value=!1}}async function p(a){var r,e;try{t.value=!0;const s=await o.post("/admin/quiz/create",a);return t.value=!0,{success:s.data.success,message:s.data.message}}catch(s){return t.value=!0,console.error("Error using Lifeline:",s),{success:!1,message:((e=(r=s.response)==null?void 0:r.data)==null?void 0:e.message)||"An unexpected error occurred"}}}async function v(){var a,r;try{t.value=!0;const e=await o.get("/admin/transaction/list/all");return c.value=[...e.data.data],console.log(c.value),{success:e.data.success,message:e.data.message}}catch(e){return console.error("Error using Lifeline:",e),{success:!1,message:((r=(a=e.response)==null?void 0:a.data)==null?void 0:r.message)||"An unexpected error occurred"}}finally{t.value=!1}}async function y(a,r){var e,s;try{console.log(a),t.value=!0;const n=await o.post("/admin/transaction/approval",{uid:a.user_id,approval_id:a.id,change_approval:r});if(n.data.success){const g={...a,approved_status:r},f=c.value.findIndex(A=>A.id===a.id);f!==-1&&(c.value[f]=g)}return{success:n.data.success,message:n.data.message}}catch(n){return console.error("Error using Lifeline:",n),{success:!1,message:((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"An unexpected error occurred"}}finally{t.value=!1}}const L=async()=>{var a,r;t.value=!0,l.value=null;try{const e=await o.get("/admin/list/leaderboards");return d.value=e.data.data,{success:e.data.success,message:e.data.message}}catch(e){return console.error("Error using Lifeline:",e),{success:!1,message:((r=(a=e.response)==null?void 0:a.data)==null?void 0:r.message)||"An unexpected error occurred"}}finally{t.value=!1}},M=async a=>{var r,e;t.value=!0,l.value=null;try{const s=await o.post("/admin/show/leaderboard",a);return i.value=s.data.data,{success:s.data.success,message:s.data.message}}catch(s){return console.error("Error using Lifeline:",s),{success:!1,message:((e=(r=s.response)==null?void 0:r.data)==null?void 0:e.message)||"An unexpected error occurred"}}finally{t.value=!1}};async function h(a){try{t.value=!0;const r=await o.post("/admin/lifeline/update",a);return{success:r.data.success,message:r.data.message}}catch(r){return console.error("Error using Lifeline:",r),{success:!1,message:"Error updating Lifeline"}}finally{t.value=!1}}return{createCategory:m,createQuiz:p,fetchTransactions:v,statusApproval:y,listAdminLeaderboards:L,showAdminLeaderboard:M,resetLeaderboardState:()=>{d.value=[],i.value=[],l.value=null},updateLifelineCost:h,allTransactions:c,leaderboards:d,currentLeaderboard:i,loading:t}});export{b as u};
