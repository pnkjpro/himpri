import{u as Y}from"./quizStore-Bmwx3yfC.js";import{u as C,s as H,y as P,c as k,b as o,k as T,t as g,i as y,e as B,F as V,d as A,o as I,n as _,m as O}from"./index-HOv384w_.js";import{t as D,c as M,n as b,g as p,m as j,a as z,b as L,d as R,e as U,f as F,h as Q,i as $}from"./differenceInSeconds-DnHR6_Gw.js";import"./mainStore-KPr6ic9I.js";function W(n,s,e){const t=D(n);return isNaN(s)?M(n,NaN):(s&&t.setDate(t.getDate()+s),t)}function q(n,s,e){const t=D(n);if(isNaN(s))return M(n,NaN);if(!s)return t;const r=t.getDate(),d=M(n,t.getTime());d.setMonth(t.getMonth()+s+1,0);const i=d.getDate();return r>=i?d:(t.setFullYear(d.getFullYear(),d.getMonth(),r),t)}function v(n,s,e){const{years:t=0,months:r=0,weeks:d=0,days:i=0,hours:l=0,minutes:a=0,seconds:m=0}=s,f=D(n),x=r||t?q(f,r+t*12):f,h=i||d?W(x,i+d*7):x,c=a+l*60,w=(m+c*60)*1e3;return M(n,+h+w)}function N(n,s){const e=D(n);return e.setHours(0,0,0,0),e}function E(n,s,e){const[t,r]=b(e==null?void 0:e.in,n,s),d=N(t),i=N(r),l=+d-p(d),a=+i-p(i);return Math.round((l-a)/j)}function G(n,s,e){const[t,r]=b(e==null?void 0:e.in,n,s);return t.getFullYear()-r.getFullYear()}function J(n,s,e){const[t,r]=b(e==null?void 0:e.in,n,s),d=S(t,r),i=Math.abs(E(t,r));t.setDate(t.getDate()-d*i);const l=+(S(t,r)===-d),a=d*(i-l);return a===0?0:a}function S(n,s){const e=n.getFullYear()-s.getFullYear()||n.getMonth()-s.getMonth()||n.getDate()-s.getDate()||n.getHours()-s.getHours()||n.getMinutes()-s.getMinutes()||n.getSeconds()-s.getSeconds()||n.getMilliseconds()-s.getMilliseconds();return e<0?-1:e>0?1:e}function K(n,s,e){const[t,r]=b(e==null?void 0:e.in,n,s),d=(+t-+r)/L;return z(e==null?void 0:e.roundingMethod)(d)}function X(n,s,e){const t=R(n,s)/U;return z(e==null?void 0:e.roundingMethod)(t)}function Z(n,s,e){const[t,r]=b(e==null?void 0:e.in,n,s),d=F(t,r),i=Math.abs(G(t,r));t.setFullYear(1584),r.setFullYear(1584);const l=F(t,r)===-d,a=d*(i-+l);return a===0?0:a}function tt(n,s){const[e,t]=b(n,s.start,s.end);return{start:e,end:t}}function et(n,s){const{start:e,end:t}=tt(s==null?void 0:s.in,n),r={},d=Z(t,e);d&&(r.years=d);const i=v(e,{years:r.years}),l=Q(t,i);l&&(r.months=l);const a=v(i,{months:r.months}),m=J(t,a);m&&(r.days=m);const f=v(a,{days:r.days}),x=K(t,f);x&&(r.hours=x);const h=v(f,{hours:r.hours}),c=X(t,h);c&&(r.minutes=c);const u=v(h,{minutes:r.minutes}),w=$(t,u);return w&&(r.seconds=w),r}const st={class:"min-h-screen bg-gradient-to-b from-rose-300 to-rose-600 p-4 flex flex-col items-center"},nt={class:"w-full max-w-md mt-8 mb-6 text-center"},rt={class:"bg-amber-400 inline-flex items-center justify-center px-6 py-3 rounded-full"},ot={class:"text-black font-bold text-xl flex items-center"},at={class:"bg-white rounded-3xl p-6 w-full max-w-md shadow-lg mb-6"},dt={class:"grid grid-cols-2 gap-4"},it={class:"bg-blue-50 rounded-xl p-4 text-center"},lt={class:"text-blue-600 text-3xl font-bold mb-1"},ct={class:"bg-green-50 rounded-xl p-4 text-center"},ut={class:"text-green-600 text-3xl font-bold mb-1"},ft={class:"bg-white rounded-3xl p-6 w-full max-w-md shadow-lg mb-8"},mt={class:"flex justify-between items-center mb-6"},gt={class:"text-sm bg-gray-100 px-3 py-1 rounded-full text-gray-600"},xt={class:"space-y-3"},ht={class:"font-bold"},bt={class:"ml-2 flex-grow"},vt={class:"font-bold text-gray-800"},wt={class:"ml-2 flex-grow"},yt={class:"font-bold text-gray-800"},Tt={__name:"Leaderboard",setup(n){const s=O();C();const e=Y(),{leaderboard:t}=H(e),r=l=>{const a=et({start:0,end:l*1e3}),m=a.minutes??0,f=a.seconds??0;return`${m}m ${f}s`},d=P(()=>t.value.topPlayers.map(l=>({...l,durationFormatted:r(l.duration)}))),i=()=>{s.back()};return(l,a)=>{var m,f,x,h;return I(),k("div",st,[o("div",nt,[a[2]||(a[2]=o("h1",{class:"text-3xl font-bold text-white mb-2"},"Quiz Complete!",-1)),o("div",rt,[o("span",ot,[a[1]||(a[1]=o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 mr-2",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M5 3a2 2 0 012-2h6a2 2 0 012 2v1h2a2 2 0 012 2v11a2 2 0 01-2 2H3a2 2 0 01-2-2V6a2 2 0 012-2h2V3zm6 0H9v1h2V3z","clip-rule":"evenodd"})],-1)),T(" Your Score: "+g(((f=(m=y(t))==null?void 0:m.userPoints)==null?void 0:f.score)||0)+" Points ",1)])])]),o("div",at,[a[5]||(a[5]=o("h2",{class:"text-xl font-bold text-gray-800 mb-4 flex items-center"},[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 mr-2 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})]),T(" Quiz Statistics ")],-1)),o("div",dt,[o("div",it,[o("div",lt,g(((x=y(t))==null?void 0:x.totalParticipants)||0),1),a[3]||(a[3]=o("div",{class:"text-blue-800 text-sm"},"Total Players",-1))]),o("div",ct,[o("div",ut,g(((h=y(t).topPlayers[0])==null?void 0:h.score)||0),1),a[4]||(a[4]=o("div",{class:"text-green-800 text-sm"},"Top Score",-1))])])]),o("div",ft,[o("div",mt,[a[6]||(a[6]=o("h2",{class:"text-xl font-bold text-gray-800 flex items-center"},[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 mr-2 text-amber-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})]),T(" Leaderboard ")],-1)),o("div",gt," Top "+g(y(t).topPlayers.length)+" Players ",1)]),a[7]||(a[7]=B('<div class="flex items-center py-2 px-4 mb-2 border-b-2 border-gray-200 font-bold text-gray-700"><div class="w-10 flex-shrink-0"></div><div class="ml-3 flex-grow">Name</div><div class="ml-3 flex-grow">Duration</div><div class="w-16 text-center">Score</div><div class="w-16 text-center">Reward</div></div>',1)),o("div",xt,[(I(!0),k(V,null,A(d.value,(c,u)=>(I(),k("div",{key:c.id,class:_(["flex items-center py-3 px-4 rounded-xl",{"bg-amber-100 border-l-4 border-amber-500":c.isUser,"bg-gray-50":!c.isUser&&u%2===0,"bg-white":!c.isUser&&u%2!==0}])},[o("div",{class:_(["w-8 h-8 flex-shrink-0 flex items-center justify-center",{"bg-yellow-500 text-white rounded-full":u===0,"bg-gray-300 text-white rounded-full":u===1,"bg-amber-700 text-white rounded-full":u===2,"text-gray-700":u>2}])},[o("span",ht,g(u+1),1)],2),o("div",bt,[o("div",vt,g(c.name),1)]),o("div",wt,[o("div",yt,g(c.durationFormatted),1)]),o("div",{class:_(["w-16 text-center font-bold text-md",{"text-amber-600":c.isUser,"text-gray-800":!c.isUser}])},g(c.score),3),o("div",{class:_(["w-16 text-center font-bold text-sm",{"text-green-600":u===0,"text-blue-600":u===1||u===2,"text-gray-600":u>2}])}," Rs "+g(c.reward||0),3)],2))),128))])]),o("button",{onClick:a[0]||(a[0]=c=>i()),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full"}," Back To My Contest ")])}}};export{Tt as default};
