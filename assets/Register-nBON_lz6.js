import{u as T,a as $,s as S,r as f,c as r,b as t,F as B,d as F,e as U,w as I,f as d,v as y,t as i,p as u,g as k,h as E,i as p,n as z,k as V,q as j,o as l,l as D,m as G}from"./index-tx6ZYeBR.js";import{c as H,a as v,b as L}from"./index.esm-DRuEz_Ec.js";import{l as O,F as q}from"./index.es-c6xk3gfE.js";import{f as W,a as J}from"./index-DHaoE_mB.js";import{f as K,a as Q}from"./index-BwxAXx0b.js";const X={class:"min-h-screen bg-gradient-to-b from-gray-100 to-gray-800 flex flex-col items-center relative overflow-hidden"},Y={class:"relative inset-0 opacity-10"},Z={class:"text-4xl text-gray-500"},ee={class:"bg-white rounded-3xl p-8 w-11/12 max-w-md shadow-lg"},te={class:"mb-4 relative"},se={key:0,class:"text-red-500 text-sm mt-1"},ae={class:"mb-4 relative"},oe={key:0,class:"text-red-500 text-sm mt-1"},re={class:"mb-4 relative"},le={key:0,class:"text-red-500 text-sm mt-1"},ie={class:"mb-4 relative"},ne=["type"],de={key:0,class:"text-red-500 text-sm mt-1"},ue={class:"mb-4 relative"},me=["type"],ce={key:0,class:"text-red-500 text-sm mt-1"},pe={class:"mb-4 relative"},ve={key:0,class:"text-red-500 text-sm mt-1"},fe=["disabled"],ye={key:0,class:"flex items-center justify-center"},xe={key:1},Ee={__name:"Register",setup(ge){O.add(W,J,K,Q);const M=G(),w=j(),x=T(),m=$();S(m);const o=f({}),C=H().shape({name:v().required("Name is required"),mobile:v().matches(/^\d{10}$/,"Mobile number must be 10 digits").required("Mobile number is required"),email:v().email("Invalid email format").required("Email is required"),password:v().min(6,"Password must be at least 6 characters").required("Password is required"),password_confirmation:v().oneOf([L("password")],"Passwords must match").required("Confirm password is required")}),N=async()=>{try{return await C.validate(a.value,{abortEarly:!1}),o.value={},!0}catch(c){const e={};return c.inner.forEach(s=>{e[s.path]=s.message}),o.value=e,!1}},a=f({name:"",mobile:null,email:"",password:"",password_confirmation:"",refer_code:""});w.query.refer_code&&(a.value.refer_code=w.query.refer_code);const A=async()=>{if(!await N())return;const e=await m.register(a);if(!e.success){const s=e.message;typeof s=="object"&&s!==null&&!Array.isArray(s)?Object.values(s).forEach((g,b)=>{g.forEach((P,R)=>{setTimeout(()=>x.error(P),(b+R)*300)})}):Array.isArray(s)?s.forEach((g,b)=>{setTimeout(()=>x.error(g),b*300)}):x.error(s);return}h("/auth/otp/verify")},h=c=>{M.push(c)},n=f(!1);f(!1);const _=()=>{n.value=!n.value};return(c,e)=>(l(),r("div",X,[t("div",Y,[(l(),r(B,null,F(20,s=>t("div",{key:s,class:"absolute",style:D({left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,transform:`rotate(${Math.random()*360}deg)`})},[t("div",Z,i(["⬠","⬡","◯","◫","◪","△","▽","◇","❖","✧","✦"][Math.floor(Math.random()*11)]),1)],4)),64))]),e[11]||(e[11]=U('<div class="mt-16 mb-8"><div class="flex items-center"><div class="text-6xl font-bold"><span class="text-orange-500">H</span><span class="text-purple-700">IMP</span><span class="text-blue-700">RI</span></div></div><div class="text-gray-600 italic text-center mt-1">LET THE GAME BEGIN</div></div>',1)),t("div",ee,[e[8]||(e[8]=t("h1",{class:"text-4xl font-bold text-center text-gray-800 mb-2"},"Welcome Back!",-1)),e[9]||(e[9]=t("p",{class:"text-xl text-center text-gray-700 mb-8"},"Please log in with your details",-1)),t("form",{onSubmit:I(A,["prevent"])},[t("div",te,[d(t("input",{type:"text",placeholder:"Name",class:"w-full bg-gray-200 py-4 px-6 rounded-xl text-gray-700","onUpdate:modelValue":e[0]||(e[0]=s=>a.value.name=s)},null,512),[[y,a.value.name]]),o.value.name?(l(),r("p",se,i(o.value.name),1)):u("",!0)]),t("div",ae,[d(t("input",{type:"number",placeholder:"Contact Number",class:"w-full bg-gray-200 py-4 px-6 rounded-xl text-gray-700","onUpdate:modelValue":e[1]||(e[1]=s=>a.value.mobile=s)},null,512),[[y,a.value.mobile]]),o.value.mobile?(l(),r("p",oe,i(o.value.mobile),1)):u("",!0)]),t("div",re,[d(t("input",{type:"text",placeholder:"Email",class:"w-full bg-gray-200 py-4 px-6 rounded-xl text-gray-700","onUpdate:modelValue":e[2]||(e[2]=s=>a.value.email=s)},null,512),[[y,a.value.email]]),o.value.mobile?(l(),r("p",le,i(o.value.email),1)):u("",!0)]),t("div",ie,[d(t("input",{type:n.value?"text":"password",placeholder:"Password",class:"w-full bg-gray-200 py-4 px-6 rounded-xl text-gray-700","onUpdate:modelValue":e[3]||(e[3]=s=>a.value.password=s)},null,8,ne),[[k,a.value.password]]),o.value.mobile?(l(),r("p",de,i(o.value.password),1)):u("",!0),t("button",{type:"button",onClick:_,class:"absolute right-4 top-1/2 transform -translate-y-1/2 text-yellow-400"},[E(p(q),{icon:n.value?"eye":"eye-slash"},null,8,["icon"])])]),t("div",ue,[d(t("input",{type:n.value?"text":"password",placeholder:"Confirm Password",class:"w-full bg-gray-200 py-4 px-6 rounded-xl text-gray-700","onUpdate:modelValue":e[4]||(e[4]=s=>a.value.password_confirmation=s)},null,8,me),[[k,a.value.password_confirmation]]),o.value.mobile?(l(),r("p",ce,i(o.value.password_confirmation),1)):u("",!0),t("button",{type:"button",onClick:_,class:"absolute right-4 top-1/2 transform -translate-y-1/2 text-yellow-400"},[E(p(q),{icon:n.value?"eye":"eye-slash"},null,8,["icon"])])]),t("div",pe,[d(t("input",{type:"text",placeholder:"Refer Code(Optional)",class:"w-full bg-gray-200 py-4 px-6 rounded-xl text-gray-700","onUpdate:modelValue":e[5]||(e[5]=s=>a.value.refer_code=s)},null,512),[[y,a.value.refer_code]]),o.value.refer_code?(l(),r("p",ve,i(o.value.refer_code),1)):u("",!0)]),t("button",{type:"submit",class:z(["w-full bg-orange-400 hover:bg-orange-500 text-white py-4 px-6 rounded-full text-xl font-bold transition duration-300",{"opacity-75 cursor-not-allowed":p(m).loading}]),disabled:p(m).loading},[p(m).loading?(l(),r("div",ye,e[7]||(e[7]=[t("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),V(" Registering... ")]))):(l(),r("span",xe,"Register"))],10,fe)],32)]),t("div",{onClick:e[6]||(e[6]=s=>h("/auth/login")),class:"mt-8 mb-12 text-white text-lg"},e[10]||(e[10]=[V(" Already have an account? "),t("span",{class:"text-orange-400 font-bold"},"Login Now",-1)]))]))}};export{Ee as default};
