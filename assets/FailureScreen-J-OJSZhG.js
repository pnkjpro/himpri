import{u as h}from"./lifelineStore-Cui_1ybN.js";import{u as y}from"./quizStore-CTguNrOA.js";import{u as _}from"./mainStore-CL-8IoQC.js";import{r as o,u as k,s as u,q as S,p as R,D as z,c as B,b as t,t as T,x as j,i as d,k as q,o as C,l as M,B as I}from"./index-lwxLPvsS.js";const L={class:"min-h-screen bg-gradient-to-b from-rose-300 to-rose-600 p-4 flex flex-col items-center"},E={class:"bg-white rounded-3xl p-6 w-full max-w-md shadow-lg text-center"},Q={class:"mb-8"},U={class:"flex items-center justify-center mb-2"},$={class:"text-xl font-bold text-purple-600"},A=["disabled"],D=60,J={__name:"FailureScreen",setup(F){o(67),o(100),o(5),o(100);const l=o(!1),c=M(),i=k(),a=I("lifeline"),m=y(),f=h(),v=_(),{question:p}=u(m),{contest:g}=u(v),s=o(D);let r=null;const x=S(()=>{const n=s.value%60;return`${Math.floor(s.value/60).toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`});R(()=>{r=setInterval(()=>{s.value>0?s.value--:(l.value=!0,clearInterval(r))},1e3)}),z(()=>{clearInterval(r)});const w=async n=>{try{const e=await f.useLifeline({lifeline_id:n,node_id:g.value.node_id,question_id:p.value.id});e.success||i.error(e.message),e.success&&c.push("/quiz/play")}catch{i.error("Unexpected Error Occured!")}},b=()=>{console.log("Going to results screen")};return(n,e)=>(C(),B("div",L,[t("div",E,[e[3]||(e[3]=t("div",{class:"text-red-500 mb-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-24 w-24 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e[4]||(e[4]=t("h1",{class:"text-3xl font-bold text-gray-800 mb-4"},"Quiz Failed!",-1)),t("div",Q,[t("div",U,[e[1]||(e[1]=t("div",{class:"font-bold text-xl text-purple-600 mr-2"},"Revival Available:",-1)),t("div",$,T(x.value),1)]),t("button",{class:j(["w-full py-4 px-6 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-full text-white font-bold text-xl hover:from-purple-600 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-purple-300 flex items-center justify-center",{"opacity-50 cursor-not-allowed":s.value<=0||!d(a).revival}]),disabled:l.value,onClick:e[0]||(e[0]=H=>w(d(a).revive.id))},e[2]||(e[2]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),q(" Use Revival Lifeline ")]),10,A)]),t("button",{class:"w-full py-3 px-6 bg-gray-200 hover:bg-gray-300 rounded-full text-gray-700 font-bold text-lg focus:outline-none focus:ring-2 focus:ring-gray-300",onClick:b}," End Quiz ")])]))}};export{J as default};
