import{_ as Z,u as X,r as m,a as ee,s as j,B as te,y as B,A as H,c as l,b as e,k as c,h as a,i as s,t as f,K as se,T as oe,F as v,d as b,p as L,o as n,l as re,n as le,w as ne,m as ae,D as ie}from"./index-tx6ZYeBR.js";import{l as de,F as i}from"./index.es-c6xk3gfE.js";import{u as ce}from"./mainStore-CqB1o2jf.js";import{u as ue}from"./transactionStore-CSsXmp9u.js";import{m as fe,p as me,q as he,r as ge,s as xe,t as pe,u as ve,v as be,w as we,x as _e,y as ye,z as ke,n as Ce,j as je,A as Le,B as Te,C as ze,D as Ae,E as Se,F as De}from"./index-DHaoE_mB.js";import{f as Me,a as $e}from"./fromUnixTime-DJExpFBG.js";import"./normalizeDates-D28e74vf.js";import"./en-US-ClfMaaVW.js";import"./differenceInSeconds-DCCrcfcw.js";const Ie={key:0,class:"fixed inset-0 bg-gradient-to-r from-red-700 to-orange-600 flex justify-center items-center z-50"},Be=["src"],He={key:1,class:"min-h-screen bg-gradient-to-b from-orange-50 via-red-50 to-orange-50"},Ve={class:"flex justify-between items-center p-4 bg-gradient-to-r from-orange-600 to-red-600 text-white shadow-lg"},Ee={class:"flex items-center"},Fe={class:"relative"},Ne=["src"],Re={class:"ml-4"},Ue={class:"text-lg font-bold text-white"},Pe={key:0,class:"fixed top-0 left-0 w-3/4 h-full bg-gradient-to-b from-red-700 to-orange-800 p-6 z-50 shadow-lg"},qe={class:"flex justify-between items-center mb-8"},Oe={class:"flex items-center"},Qe=["src"],We={class:"ml-4 text-white"},Ge={class:"text-lg font-bold"},Je={class:"bg-gradient-to-r from-orange-500 to-red-500 rounded-xl shadow-md text-white mb-6 overflow-hidden"},Ke={class:"p-4"},Ye={class:"flex items-center font-bold"},Ze={class:"ml-auto text-yellow-300 text-lg"},Xe={class:"grid grid-cols-2 gap-2 p-4 bg-red-600 bg-opacity-30"},et={class:"text-white space-y-2 mb-8"},tt=["onClick"],st=["disabled"],ot={key:0},rt={key:1},lt={class:"p-4"},nt={class:"text-xl font-bold text-red-900 mb-3 flex items-center"},at={class:"flex overflow-x-auto p-1 space-x-4 no-scrollbar"},it=["onClick"],dt=["src","alt"],ct={class:"text-center font-bold text-sm mt-2 max-w-24 text-black-800"},ut={class:"px-4 mb-6"},ft={class:"text-xl font-bold text-red-900 mb-3 flex items-center"},mt={class:"overflow-x-auto flex space-x-4 no-scrollbar"},ht={class:"relative w-full h-full group"},gt=["src","alt"],xt={class:"flex justify-center space-x-2 mt-4"},pt={class:"p-4 bg-white rounded-t-3xl shadow-inner"},vt={class:"flex justify-between items-center mb-4"},bt={class:"text-2xl font-bold text-red-900 flex items-center"},wt={class:"space-y-6 p-4"},_t=["onClick"],yt={class:"flex-shrink-0"},kt={class:"rounded-lg overflow-hidden shadow-md h-full"},Ct=["src","alt"],jt={class:"w-full md:w-3/4 pl-0 md:pl-6 flex flex-col justify-between"},Lt={class:"flex items-center justify-between my-3"},Tt={key:0,class:"flex items-center bg-green-500 text-white px-3 py-1 rounded-full text-md font-bold"},zt={key:1,class:"flex items-center text-gray-600 text-md font-bold"},At={class:"text-lg font-bold text-gray-800 mb-2 line-clamp-2 leading-tight"},St={class:"w-full mb-4"},Dt={class:"flex items-center justify-between bg-gradient-to-r from-yellow-200 to-orange-200 px-4 py-2 rounded-lg shadow-sm w-full"},Mt={class:"flex items-center"},$t={class:"text-red-800 font-bold text-base"},It={key:0,class:"bg-gradient-to-r from-green-400 to-teal-400 text-white px-3 py-1 rounded-full text-xs font-semibold"},Bt={class:"flex items-center justify-between"},Ht={class:"flex items-center text-gray-600 text-md font-bold"},Vt=["onClick"],Et={key:0,class:"mt-8 text-center"},Ft=["disabled"],Nt={key:0,class:"flex items-center justify-center"},Rt={key:1,class:"flex items-center justify-center"},Ut={__name:"Homepage",setup(Pt){de.add(fe,me,he,ge,xe,pe,ve,be,we,_e,ye,ke,Ce,je,Le,Te,ze,Ae,Se,De);const h=ae(),V=X();ie("config");const w=m(!1);m(0);const u=ce(),_=ee(),E=ue(),{contests:y,categories:F,banners:N,loading:qt,totalCount:R,hasShownVideo:T}=j(u),{user:g}=j(_),{fundAction:z}=j(E),U=te(()=>R.value>y.value.length),k=m(!1),P=m("/videos/himpri_intro.mp4"),x=m(null),q=()=>{T.value||(k.value=!0,x.value=setTimeout(()=>{A()},3e3))},A=()=>{k.value=!1,T.value=!0,x.value&&clearTimeout(x.value)},O=()=>{A()},S=r=>{z.value=r,console.log(r),console.log(z.value),h.push("/dashboard/funds")},Q=r=>(typeof r=="string"?new Date(r):new Date(r*1e3)).toLocaleDateString("en-IN",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit",hour12:!0}),D=async r=>{await u.fetchCurrentContest(r),h.push("/quiz/variants")},W=async r=>{u.fetchQuizzesByCategory(r),h.push("/category/quiz/list")},G=()=>{u.fetchMoreContests()};B(()=>{q(),!(y.value.length>0)&&(u.fetchContests(),u.fetchCategories(),u.fetchHomeBanners(),u.fetchHowVideos())}),H(()=>{x.value&&clearTimeout(x.value)});const J=m([{text:"Refer & Earn",icon:"user",url:"dashboard/refernearn"},{text:"My Lifelines",icon:"phone",url:"dashboard/lifeline"},{text:"My Transactions",icon:"cash-register",url:"dashboard/transactions"},{text:"My Contests",icon:"gamepad",url:"dashboard/my-contests"},{text:"Lifeline History",icon:"history",url:"dashboard/lifeline-history"},{text:"Help & FAQs",icon:"question-circle",url:"faqs"},{text:"About Us",icon:"file-alt",url:"aboutus"},{text:"How to Play",icon:"gamepad",url:"how-to-play"},{text:"Terms & Conditions",icon:"file-alt",url:"terms"}]),K=r=>{h.push(`/${r}`),w.value=!1},Y=async()=>{const r=await _.logout();r.success?h.push("/auth/login"):V.error(r.message)},M=()=>w.value=!w.value,p=r=>{let t="/images/fallbackImage.png";return r&&(t=`https://api.himpri.com/storage/${r}`),t},$=m(new Date);B(()=>{const r=setInterval(()=>{$.value=new Date},6e4);H(()=>{clearInterval(r)})});function I(r){const t=Me(Number(r));return $.value>=t?{isLive:!0,text:"LIVE"}:{isLive:!1,text:$e(t)+" left"}}return(r,t)=>(n(),l("div",null,[k.value?(n(),l("div",Ie,[e("video",{ref:"preloaderVideo",autoplay:"",muted:"",onEnded:O,class:"max-w-full max-h-full"},[e("source",{src:P.value,type:"video/mp4"},null,8,Be),t[2]||(t[2]=c(" Your browser does not support the video tag. "))],544)])):(n(),l("div",He,[e("header",Ve,[e("button",{onClick:M,class:"p-3 rounded-full bg-red-500 hover:bg-red-400 transition-colors shadow-md"},[a(s(i),{icon:"bars",class:"text-2xl text-white"})]),e("div",Ee,[e("div",Fe,[e("img",{src:p(s(g).avatar),alt:"User Avatar",class:"w-16 h-16 rounded-full object-cover border-4 border-orange-300"},null,8,Ne),t[3]||(t[3]=e("div",{class:"absolute -bottom-1 -right-1 bg-green-400 w-4 h-4 rounded-full border-2 border-white"},null,-1))]),e("div",Re,[t[4]||(t[4]=e("p",{class:"text-orange-200 text-sm"},"Welcome back!",-1)),e("h1",Ue,f(s(g).name),1)])])]),a(oe,{name:"slide-fade"},{default:se(()=>[w.value?(n(),l("aside",Pe,[e("div",qe,[e("div",Oe,[e("img",{src:p(s(g).avatar),alt:"User Avatar",class:"w-12 h-12 rounded-full object-cover border-2 border-orange-300"},null,8,Qe),e("div",We,[e("h2",Ge,f(s(g).name),1)])]),e("button",{onClick:M,class:"text-white hover:text-orange-200 bg-red-600 p-2 rounded-full"},[a(s(i),{icon:"times",class:"text-xl"})])]),e("div",Je,[e("div",Ke,[e("p",Ye,[a(s(i),{icon:"wallet",class:"mr-2 text-yellow-300"}),t[5]||(t[5]=c(" My Balance ")),e("span",Ze,"â‚¹ "+f(s(g).funds||0),1)])]),e("div",Xe,[e("button",{onClick:t[0]||(t[0]=o=>S("withdraw")),class:"py-2 bg-red-700 hover:bg-red-600 text-white rounded-lg font-medium text-sm transition-colors flex items-center justify-center shadow-md"},[a(s(i),{icon:"arrow-up",class:"mr-2 text-red-300"}),t[6]||(t[6]=c(" WITHDRAW "))]),e("button",{onClick:t[1]||(t[1]=o=>S("deposit")),class:"py-2 bg-gradient-to-r from-yellow-500 to-yellow-400 hover:from-yellow-400 hover:to-yellow-300 text-red-900 rounded-lg font-medium text-sm transition-colors flex items-center justify-center shadow-md"},[a(s(i),{icon:"plus",class:"mr-2"}),t[7]||(t[7]=c(" ADD CASH "))])])]),e("ul",et,[(n(!0),l(v,null,b(J.value,(o,d)=>(n(),l("li",{key:d,onClick:C=>K(o.url),class:"flex items-center cursor-pointer p-3 rounded-lg hover:bg-red-600 transition-colors"},[a(s(i),{icon:o.icon,class:"mr-3 text-orange-300"},null,8,["icon"]),e("span",null,f(o.text),1)],8,tt))),128))]),e("button",{onClick:Y,disabled:s(_).loading,class:"w-full py-3 mt-auto rounded-lg bg-gradient-to-r from-red-600 to-orange-500 text-white font-bold flex items-center justify-center hover:from-red-700 hover:to-orange-600 transition-colors shadow-md"},[a(s(i),{icon:"sign-out-alt",class:"mr-3"}),s(_).loading?(n(),l("span",ot,"Logging out...")):(n(),l("span",rt,"Logout"))],8,st)])):L("",!0)]),_:1}),e("div",lt,[e("h2",nt,[a(s(i),{icon:"layer-group",class:"mr-2 text-orange-600"}),t[8]||(t[8]=c(" Categories "))]),e("div",at,[(n(!0),l(v,null,b(s(F),(o,d)=>(n(),l("div",{key:d,class:"flex flex-col items-center"},[e("div",{onClick:C=>W(o.id),class:"w-24 h-24 rounded-full overflow-hidden flex-shrink-0 border-4 border-white shadow-lg hover:shadow-xl transition-transform hover:scale-105",style:re(`box-shadow: 0 10px 15px -3px rgba(${220+d*5%35}, ${(80+d*10)%120}, 50, 0.4)`)},[e("img",{src:p(o.icon),alt:o.name,class:"w-full h-full object-cover"},null,8,dt)],12,it),e("p",ct,f(o.name),1)]))),128))])]),e("div",ut,[e("h2",ft,[a(s(i),{icon:"star",class:"mr-2 text-yellow-500"}),t[9]||(t[9]=c(" Featured "))]),e("div",mt,[(n(!0),l(v,null,b(s(N),(o,d)=>(n(),l("div",{key:d,class:"flex-shrink-0 w-64 h-32 rounded-xl overflow-hidden shadow-lg"},[e("div",ht,[e("img",{src:p(o.banner_path),alt:o.title,class:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"},null,8,gt),t[10]||(t[10]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-red-900 via-transparent to-transparent opacity-60"},null,-1))])]))),128))]),e("div",xt,[(n(),l(v,null,b(3,(o,d)=>e("div",{key:d,class:le(["h-2 rounded-full transition-all",d===1?"w-8 bg-orange-500":"w-2 bg-red-200"])},null,2)),64))])]),e("div",pt,[e("div",vt,[e("h2",bt,[a(s(i),{icon:"trophy",class:"mr-2 text-yellow-500"}),t[11]||(t[11]=c(" Upcoming Contests "))])]),e("div",wt,[(n(!0),l(v,null,b(s(y),(o,d)=>(n(),l("div",{key:d,class:"relative group bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-100"},[e("div",{onClick:C=>D(o.node_id),class:"flex flex-col md:flex-row p-5 cursor-pointer relative z-10 bg-gradient-to-br from-white to-gray-50"},[e("div",yt,[e("div",kt,[e("img",{src:p(o.banner_image),alt:o.title,class:"w-full h-full object-cover"},null,8,Ct)])]),e("div",jt,[e("div",null,[e("div",Lt,[I(o.start_time).isLive?(n(),l("p",Tt,t[12]||(t[12]=[e("span",{class:"inline-block h-2 w-2 rounded-full bg-white mr-2 animate-pulse"},null,-1),c(" LIVE ")]))):(n(),l("p",zt,[a(s(i),{icon:"clock",class:"mr-2 text-gray-500"}),c(" "+f(I(o.start_time).text),1)]))]),e("h3",At,f(o.title),1)]),e("div",St,[e("div",Dt,[e("div",Mt,[a(s(i),{icon:"trophy",class:"text-red-700 mr-2 text-lg"}),e("span",$t," PRIZE POOL â‚¹"+f(o.prize_money),1)]),o.entry_fees==0?(n(),l("span",It," FREE ")):L("",!0)])]),e("div",Bt,[e("div",Ht,[a(s(i),{icon:"lock",class:"mr-2 text-gray-500"}),e("span",null,f(Q(o.end_time)),1)]),e("button",{class:"bg-gradient-to-r from-blue-500 to-indigo-500 text-white font-semibold py-2 px-4 rounded-lg shadow-md hover:from-blue-600 hover:to-indigo-600 transition-all duration-300 flex items-center text-sm",onClick:ne(C=>D(o.node_id),["stop"])},[a(s(i),{icon:"play",class:"mr-2"}),t[13]||(t[13]=c(" Join Now "))],8,Vt)])])],8,_t),t[14]||(t[14]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-500/10 to-purple-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-0"},null,-1))]))),128)),U.value?(n(),l("div",Et,[e("button",{onClick:G,class:"px-8 py-3 bg-gradient-to-r from-red-500 to-orange-500 text-white rounded-full shadow-lg hover:from-red-600 hover:to-orange-600 focus:outline-none focus:ring-2 focus:ring-red-300 transition-all duration-300 transform hover:scale-105 disabled:opacity-50",disabled:s(u).loading},[s(u).loading?(n(),l("span",Nt,t[15]||(t[15]=[e("svg",{class:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),c(" Loading... ")]))):(n(),l("span",Rt,[t[16]||(t[16]=c(" Load More ")),a(s(i),{icon:"chevron-down",class:"ml-2"})]))],8,Ft)])):L("",!0)])])]))]))}},es=Z(Ut,[["__scopeId","data-v-1453c18c"]]);export{es as default};
