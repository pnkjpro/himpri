import{G as P,r as n,H as o}from"./index-TMYcTmJ3.js";const $=P("main",()=>{const t=n(!1);n(null);const p=n(0),c=n([]),m=n([]),y=n([]),u=n(1),h=n([]),M=n(2),z=n(!1),l=n(null),g=n({}),w=n([]),i=n([]),f=n([]),d=n({claimedRewards:0,pendingRewards:0,totalReferred:0,referEarned:0});async function C(){const s=await o.get("/quiz");c.value=s.data.data[0],p.value=s.data.data[1],u.value=1,console.log(c.value)}async function _(){const s=await o.get("/category");i.value=s.data.data,console.log(i.value)}async function E(s){console.log(s);const r=await o.get("/quiz/contest",{params:{node_id:s}});l.value=r.data.data,console.log(l.value)}async function x(s){var r,e;try{t.value=!0;const a=await o.get(`/category/quiz/list?category_id=${s}`);return m.value=a.data.data,{success:a.data.success,message:a.data.message}}catch(a){return console.error("Error getting banners:",a),{success:!1,message:((e=(r=a.response)==null?void 0:r.data)==null?void 0:e.message)||"An unexpected error occurred"}}finally{t.value=!1}}function b(s){console.log("pinia VariantId",s),g.value=l.value.quiz_variants.find(r=>r.id===s),g.value&&(w.value=g.value.prize_contents)}async function A(s){var r,e;try{t.value=!0;const a=await o.post("admin/banner/update",s);return t.value=!1,{success:a.data.success,message:a.data.message}}catch(a){return t.value=!1,console.error("Error updating banner:",a),{success:!1,message:((e=(r=a.response)==null?void 0:r.data)==null?void 0:e.message)||"An unexpected error occurred"}}}async function R(){var s,r;try{t.value=!0;const e=await o.get("/banner/list");return h.value=e.data.data,{success:e.data.success,message:e.data.message}}catch(e){return console.error("Error getting banners:",e),{success:!1,message:((r=(s=e.response)==null?void 0:s.data)==null?void 0:r.message)||"An unexpected error occurred"}}finally{t.value=!1}}async function q(){var s,r;try{t.value=!0;const e=await o.get(`/quiz?page=${u.value+1}`);return u.value=u.value+1,e.data.data&&e.data.data.length>0&&(c.value=[...c.value,...e.data.data[0]]),{success:e.data.success,message:e.data.message}}catch(e){return console.error("Error getting quizzes:",e),{success:!1,message:((r=(s=e.response)==null?void 0:s.data)==null?void 0:r.message)||"An unexpected error occurred"}}finally{t.value=!1}}async function V(s){var r,e;try{t.value=!0;const a=await o.get(`users/refer/list?page=${s.value+1}`);return d.value.claimedRewards=a.data.data.claimed_rewards,d.value.pendingRewards=a.data.data.pending_rewards,d.value.referEarned=a.data.data.refer_earned,d.value.totalReferred=a.data.data.total_referred,a.data.data&&a.data.data.referred_users.length>0&&(f.value=[...f.value,...a.data.data.referred_users]),t.value=!1,{success:a.data.success,message:a.data.message}}catch(a){return t.value=!1,console.error("Error updating banner:",a),{success:!1,message:((e=(r=a.response)==null?void 0:r.data)==null?void 0:e.message)||"An unexpected error occurred"}}}async function H(){var s,r;try{t.value=!0;const e=await o.get("how/videos");return y.value=e.data.data,{success:e.data.success,message:e.data.message}}catch(e){return console.error("Error getting videos:",e),{success:!1,message:((r=(s=e.response)==null?void 0:s.data)==null?void 0:r.message)||"An unexpected error occurred"}}finally{t.value=!1}}async function B(s){var r,e;try{t.value=!0;const a=await o.post("admin/howVideos/update",s);return t.value=!1,{success:a.data.success,message:a.data.message}}catch(a){return t.value=!1,console.error("Error updating videos:",a),{success:!1,message:((e=(r=a.response)==null?void 0:r.data)==null?void 0:e.message)||"An unexpected error occurred"}}}return{fetchCurrentContest:E,fetchContests:C,fetchMoreContests:q,fetchCategories:_,getPrizeContents:b,fetchHomeBanners:R,fetchQuizzesByCategory:x,updateHowVideo:B,fetchHowVideos:H,updateBanner:A,fetchReferredUsers:V,banners:h,prizeContents:w,hasShownVideo:z,variant:g,contest:l,catContests:m,totalCount:p,howVideos:y,loading:t,page:u,recordPerPage:M,contests:c,categories:i,referredUsers:f,referredMetaData:d}});export{$ as u};
