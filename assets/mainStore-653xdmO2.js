import{G as P,r,H as n}from"./index-CKL20PuW.js";const $=P("main",()=>{const o=r(!1);r(null);const f=r(0),c=r([]),v=r([]),p=r([]),u=r(1),m=r([]),y=r(""),d=r(!1),z=r(2),M=r(!1),l=r(null),i=r({}),h=r([]),g=r([]);async function C(){const s=await n.get("/quiz");c.value=s.data.data[0],f.value=s.data.data[1],u.value=1,console.log(c.value)}async function _(){const s=await n.get("/category");g.value=s.data.data,console.log(g.value)}async function b(s){console.log(s);const a=await n.get("/quiz/contest",{params:{node_id:s}});l.value=a.data.data,console.log(l.value)}async function q(s){var a,e;try{o.value=!0;const t=await n.get(`/category/quiz/list?category_id=${s}`);return v.value=t.data.data,{success:t.data.success,message:t.data.message}}catch(t){return console.error("Error getting quizzes by category:",t),{success:!1,message:((e=(a=t.response)==null?void 0:a.data)==null?void 0:e.message)||"An unexpected error occurred"}}finally{o.value=!1}}function x(s){console.log("pinia VariantId",s),i.value=l.value.quiz_variants.find(a=>a.id===s),i.value&&(h.value=i.value.prize_contents)}async function A(s){var a,e;try{o.value=!0;const t=await n.post("admin/banner/update",s);return o.value=!1,{success:t.data.success,message:t.data.message}}catch(t){return o.value=!1,console.error("Error updating banner:",t),{success:!1,message:((e=(a=t.response)==null?void 0:a.data)==null?void 0:e.message)||"An unexpected error occurred"}}}async function E(){var s,a;try{o.value=!0;const e=await n.get("/banner/list");return m.value=e.data.data.banners,y.value=e.data.data.official_notice,d.value=e.data.data.official_notice_status,console.log(d),{success:e.data.success,message:e.data.message}}catch(e){return console.error("Error getting banners:",e),{success:!1,message:((a=(s=e.response)==null?void 0:s.data)==null?void 0:a.message)||"An unexpected error occurred"}}finally{o.value=!1}}async function V(){var s,a;try{o.value=!0;const e=await n.get(`/quiz?page=${u.value+1}`);return u.value=u.value+1,e.data.data&&e.data.data.length>0&&(c.value=[...c.value,...e.data.data[0]]),{success:e.data.success,message:e.data.message}}catch(e){return console.error("Error getting quizzes:",e),{success:!1,message:((a=(s=e.response)==null?void 0:s.data)==null?void 0:a.message)||"An unexpected error occurred"}}finally{o.value=!1}}async function H(){var s,a;try{o.value=!0;const e=await n.get("how/videos");return p.value=e.data.data,{success:e.data.success,message:e.data.message}}catch(e){return console.error("Error getting videos:",e),{success:!1,message:((a=(s=e.response)==null?void 0:s.data)==null?void 0:a.message)||"An unexpected error occurred"}}finally{o.value=!1}}async function B(s){var a,e;try{o.value=!0;const t=await n.post("admin/howVideos/update",s);return o.value=!1,{success:t.data.success,message:t.data.message}}catch(t){return o.value=!1,console.error("Error updating videos:",t),{success:!1,message:((e=(a=t.response)==null?void 0:a.data)==null?void 0:e.message)||"An unexpected error occurred"}}}return{fetchCurrentContest:b,fetchContests:C,fetchMoreContests:V,fetchCategories:_,getPrizeContents:x,fetchHomeBanners:E,fetchQuizzesByCategory:q,updateHowVideo:B,fetchHowVideos:H,updateBanner:A,banners:m,official_notice:y,official_notice_status:d,prizeContents:h,hasShownVideo:M,variant:i,contest:l,catContests:v,totalCount:f,howVideos:p,loading:o,page:u,recordPerPage:z,contests:c,categories:g}});export{$ as u};
