import{_ as B,r as d,u as F,a as H,s as b,p as A,q as $,D as q,c as l,b as e,t as i,i as a,h as c,A as N,T as P,F as f,d as m,k as v,o as n,m as W,x as G,l as O,B as Q}from"./index-lwxLPvsS.js";import{l as Y,h as Z,k as J,m as K,n as X,o as ee,p as te,q as se,r as oe,s as le,t as ne,F as u}from"./index-DiBy0B_j.js";import{u as ae}from"./mainStore-CL-8IoQC.js";import{u as re}from"./transactionStore-9jhzBneK.js";import{f as ie,a as ce}from"./fromUnixTime-BXOQ5KsG.js";const de={class:"min-h-screen bg-gray-100"},ue={class:"flex justify-between items-center p-4 bg-white"},fe={class:"flex items-center"},me={class:"ml-4"},ge={class:"text-lg font-bold text-gray-700"},he={key:0,class:"fixed top-0 left-0 w-3/4 h-full bg-orange-500 p-6 z-50 shadow-lg"},_e={class:"flex items-center mb-6"},pe={class:"ml-4 text-white"},xe={class:"text-lg font-bold"},be={class:"bg-white p-4 rounded-lg text-gray-700 mb-4"},ve={class:"flex items-center font-bold"},ye={class:"ml-auto text-red-500"},we={class:"flex mt-2"},ke={class:"text-white space-y-4"},Ce=["onClick"],Ae=["disabled"],Ie={key:0},Le={key:1},Te={class:"flex overflow-x-auto p-4 space-x-4 no-scrollbar"},Se={class:"w-24 h-24 rounded-lg overflow-hidden flex-shrink-0"},De=["alt"],je={class:"text-center font-bold text-sm mt-2 max-w-24"},Ee={class:"px-4 overflow-x-auto flex space-x-4 no-scrollbar"},Me={class:"font-bold"},Ue={class:"flex justify-center space-x-2 mt-4"},ze={class:"p-4"},Re={class:"flex justify-between items-center mb-4"},Ve={href:"#",class:"flex items-center text-gray-700"},Be={class:"space-y-4"},Fe=["onClick"],He={class:"w-1/4 flex-shrink-0"},$e=["alt"],qe={class:"w-3/4 pl-4 flex flex-col justify-between"},Ne={class:"text-center mb-2"},Pe={class:"bg-purple-50 text-purple-700 px-6 py-1 rounded-full inline-block"},We={class:"mb-2"},Ge={class:"text-md font-bold text-gray-700 truncate"},Oe={class:"mb-2"},Qe={key:0,class:"text-red-500 font-bold flex items-center"},Ye={key:1,class:"text-blue-500 font-medium"},Ze={class:"flex items-center"},Je={class:"text-gray-600"},Ke={__name:"Homepage",setup(Xe){Y.add(Z,J,K,X,ee,te,se,oe,le,ne),d("/api/placeholder/80/80");const g=O(),I=F();Q("config");const p=d(!1);d(0);const L=d([{title:"Unleash Your Competitive Spirit in Special Event!"},{title:"Explore Today's Top Picks of Engaging Quizzes!"},{title:"Conquer the Weekly Challenges!"}]),h=ae(),_=H(),T=re(),{contests:S,categories:D}=b(h),{user:x}=b(_),{fundAction:y}=b(T),w=o=>{y.value=o,console.log(o),console.log(y.value),g.push("/dashboard/funds")},j=async o=>{await h.fetchCurrentContest(o),g.push("/quiz/variants")};A(()=>{h.fetchContests(),h.fetchCategories()});const E=d([{text:"Refer & Earn",icon:"user",url:"dashboard/refernearn"},{text:"My Lifelines",icon:"phone",url:"dashboard/lifeline"},{text:"My Transactions",icon:"cash-register",url:"dashboard/transactions"},{text:"My Contests",icon:"gamepad",url:"dashboard/my-contests"},{text:"Help",icon:"question-circle",url:"help"},{text:"About Us",icon:"file-alt",url:"aboutus"},{text:"How to Play",icon:"gamepad",url:"how_to_play"},{text:"Terms & Conditions",icon:"file-alt",url:"terms"}]),M=$(()=>{const o=Math.floor(Date.now()/1e3);return S.value.filter(t=>t.end_time>o)}),U=o=>{g.push(`/${o}`)},z=async()=>{const o=await _.logout();o.success?g.push("/auth/login"):I.error(o.message)},R=()=>p.value=!p.value,k=d(new Date);A(()=>{const o=setInterval(()=>{k.value=new Date},6e4);q(()=>{clearInterval(o)})});function C(o){const t=typeof o=="number"?ie(o):new Date(o);return k.value>=t?{isLive:!0,text:"LIVE"}:{isLive:!1,text:ce(t)+" left"}}return(o,t)=>(n(),l("div",de,[e("header",ue,[e("div",fe,[t[3]||(t[3]=e("img",{src:"/images/fallbackImage.png",alt:"User Avatar",class:"w-16 h-16 rounded-full object-cover"},null,-1)),e("div",me,[t[2]||(t[2]=e("p",{class:"text-gray-600"},"Good to see you!",-1)),e("h1",ge,i(a(x).name),1)])]),e("button",{onClick:R,class:"p-2 rounded-full border-2 border-gray-300"},[c(a(u),{icon:"bars",class:"text-2xl text-gray-600"})])]),c(P,{name:"slide-fade"},{default:N(()=>[p.value?(n(),l("aside",he,[e("div",_e,[t[4]||(t[4]=e("img",{src:"/images/fallbackImage.png",alt:"User Avatar",class:"w-12 h-12 rounded-full object-cover"},null,-1)),e("div",pe,[e("h2",xe,i(a(x).name),1)])]),e("div",be,[e("p",ve,[c(a(u),{icon:"wallet",class:"mr-2"}),t[5]||(t[5]=v(" My Balance ")),e("span",ye,"₹ "+i(a(x).funds),1)]),e("div",we,[e("button",{onClick:t[0]||(t[0]=s=>w("withdraw")),class:"flex-1 py-2 bg-gray-200 rounded-lg mr-2"},"WITHDRAW"),e("button",{onClick:t[1]||(t[1]=s=>w("deposit")),class:"flex-1 py-2 bg-gray-200 rounded-lg"},"ADD CASH")])]),e("ul",ke,[(n(!0),l(f,null,m(E.value,(s,r)=>(n(),l("li",{key:r,onClick:V=>U(s.url),class:"flex items-center cursor-pointer"},[c(a(u),{icon:s.icon,class:"mr-3"},null,8,["icon"]),e("span",null,i(s.text),1)],8,Ce))),128)),e("button",{onClick:z,disabled:a(_).loading,class:"logout-btn"},[c(a(u),{icon:"sign-out-alt",class:"mr-3"}),a(_).loading?(n(),l("span",Ie,"Logging out...")):(n(),l("span",Le,"Logout"))],8,Ae)])])):W("",!0)]),_:1}),e("div",Te,[(n(!0),l(f,null,m(a(D),(s,r)=>(n(),l("div",{key:r,class:"flex flex-col items-center"},[e("div",Se,[e("img",{src:"/images/fallbackImage.png",alt:s.name,class:"w-full h-full object-cover"},null,8,De)]),e("p",je,i(s.name),1)]))),128))]),e("div",Ee,[(n(!0),l(f,null,m(L.value,(s,r)=>(n(),l("div",{key:r,class:"flex-shrink-0 w-64 bg-orange-400 rounded-lg p-6 text-white"},[e("p",Me,i(s.title),1)]))),128))]),e("div",Ue,[(n(),l(f,null,m(3,(s,r)=>e("div",{key:r,class:G(["h-2 rounded-full",r===1?"w-8 bg-orange-400":"w-2 bg-gray-300"])},null,2)),64))]),e("div",ze,[e("div",Re,[t[7]||(t[7]=e("h2",{class:"text-2xl font-bold text-gray-700"},"Upcoming Contest",-1)),e("a",Ve,[t[6]||(t[6]=v(" View All ")),c(a(u),{icon:"arrow-right",class:"ml-2"})])]),e("div",Be,[(n(!0),l(f,null,m(M.value,(s,r)=>(n(),l("div",{key:r,class:"bg-white rounded-lg overflow-hidden shadow-sm border border-gray-200"},[e("div",{onClick:V=>j(s.node_id),class:"flex p-4"},[e("div",He,[e("img",{src:"/images/fallbackImage.png",alt:s.title,class:"w-full h-full object-cover rounded-lg"},null,8,$e)]),e("div",qe,[e("div",Ne,[e("span",Pe,i(s.category.name),1)]),e("div",We,[e("h3",Ge,i(s.title),1)]),e("div",Oe,[C(s.start_time).isLive?(n(),l("p",Qe,t[8]||(t[8]=[e("span",{class:"inline-block h-2 w-2 rounded-full bg-red-500 mr-2"},null,-1),v(" LIVE ")]))):(n(),l("p",Ye,i(C(s.start_time).text),1))]),e("div",Ze,[t[9]||(t[9]=e("span",{class:"text-orange-400 font-bold mr-2"},"MEGA PRIZE",-1)),c(a(u),{icon:"trophy",class:"text-gray-600 mx-2"}),e("span",Je,"Prize ₹ "+i(s.prize_money),1)])])],8,Fe)]))),128))])])]))}},nt=B(Ke,[["__scopeId","data-v-c86dc12b"]]);export{nt as default};
