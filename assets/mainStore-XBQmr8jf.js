import{G as $,r as o,H as n}from"./index-B6sWn_cM.js";const D=$("main",()=>{const t=o(!1);o(null);const m=o(0),c=o([]),y=o([]),h=o([]),u=o(1),w=o([]),M=o(""),g=o(!1),z=o(2),C=o(!1),l=o(null),i=o({}),_=o([]),f=o([]),v=o([]),d=o({claimedRewards:0,pendingRewards:0,totalReferred:0,referEarned:0});async function E(){const s=await n.get("/quiz");c.value=s.data.data[0],m.value=s.data.data[1],u.value=1,console.log(c.value)}async function b(){const s=await n.get("/category");f.value=s.data.data,console.log(f.value)}async function x(s){console.log(s);const r=await n.get("/quiz/contest",{params:{node_id:s}});l.value=r.data.data,console.log(l.value)}async function q(s){var r,e;try{t.value=!0;const a=await n.get(`/category/quiz/list?category_id=${s}`);return y.value=a.data.data,{success:a.data.success,message:a.data.message}}catch(a){return console.error("Error getting quizzes by category:",a),{success:!1,message:((e=(r=a.response)==null?void 0:r.data)==null?void 0:e.message)||"An unexpected error occurred"}}finally{t.value=!1}}function A(s){console.log("pinia VariantId",s),i.value=l.value.quiz_variants.find(r=>r.id===s),i.value&&(_.value=i.value.prize_contents)}async function R(s){var r,e;try{t.value=!0;const a=await n.post("admin/banner/update",s);return t.value=!1,{success:a.data.success,message:a.data.message}}catch(a){return t.value=!1,console.error("Error updating banner:",a),{success:!1,message:((e=(r=a.response)==null?void 0:r.data)==null?void 0:e.message)||"An unexpected error occurred"}}}async function V(){var s,r;try{t.value=!0;const e=await n.get("/banner/list");return w.value=e.data.data.banners,M.value=e.data.data.official_notice,g.value=e.data.data.official_notice_status,console.log(g),{success:e.data.success,message:e.data.message}}catch(e){return console.error("Error getting banners:",e),{success:!1,message:((r=(s=e.response)==null?void 0:s.data)==null?void 0:r.message)||"An unexpected error occurred"}}finally{t.value=!1}}async function H(){var s,r;try{t.value=!0;const e=await n.get(`/quiz?page=${u.value+1}`);return u.value=u.value+1,e.data.data&&e.data.data.length>0&&(c.value=[...c.value,...e.data.data[0]]),{success:e.data.success,message:e.data.message}}catch(e){return console.error("Error getting quizzes:",e),{success:!1,message:((r=(s=e.response)==null?void 0:s.data)==null?void 0:r.message)||"An unexpected error occurred"}}finally{t.value=!1}}async function B(s){var r,e;try{t.value=!0;const a=await n.get(`users/refer/list?page=${s.value+1}`);return d.value.claimedRewards=a.data.data.claimed_rewards,d.value.pendingRewards=a.data.data.pending_rewards,d.value.referEarned=a.data.data.refer_earned,d.value.totalReferred=a.data.data.total_referred,a.data.data&&a.data.data.referred_users.length>0&&(v.value=[...v.value,...a.data.data.referred_users]),t.value=!1,{success:a.data.success,message:a.data.message}}catch(a){return t.value=!1,console.error("Error updating banner:",a),{success:!1,message:((e=(r=a.response)==null?void 0:r.data)==null?void 0:e.message)||"An unexpected error occurred"}}}async function P(){var s,r;try{t.value=!0;const e=await n.get("how/videos");return h.value=e.data.data,{success:e.data.success,message:e.data.message}}catch(e){return console.error("Error getting videos:",e),{success:!1,message:((r=(s=e.response)==null?void 0:s.data)==null?void 0:r.message)||"An unexpected error occurred"}}finally{t.value=!1}}async function S(s){var r,e;try{t.value=!0;const a=await n.post("admin/howVideos/update",s);return t.value=!1,{success:a.data.success,message:a.data.message}}catch(a){return t.value=!1,console.error("Error updating videos:",a),{success:!1,message:((e=(r=a.response)==null?void 0:r.data)==null?void 0:e.message)||"An unexpected error occurred"}}}return{fetchCurrentContest:x,fetchContests:E,fetchMoreContests:H,fetchCategories:b,getPrizeContents:A,fetchHomeBanners:V,fetchQuizzesByCategory:q,updateHowVideo:S,fetchHowVideos:P,updateBanner:R,fetchReferredUsers:B,banners:w,official_notice:M,official_notice_status:g,prizeContents:_,hasShownVideo:C,variant:i,contest:l,catContests:y,totalCount:m,howVideos:h,loading:t,page:u,recordPerPage:z,contests:c,categories:f,referredUsers:v,referredMetaData:d}});export{D as u};
