import{a4 as te,r as c,a5 as o}from"./index-6Xq51A_u.js";const ne=te("main",()=>{const t=c(!1);c(null);const M=c(0),l=c([]),E=c([]),A=c([]),i=c(1),_=c([]),V=c(""),m=c(!1),z=c(null),R=c(2),b=c(!1),p=c(null),v=c({}),C=c([]),h=c([]),y=c([]),w=c([]),g=c([]),f=c({claimedRewards:0,pendingRewards:0,totalReferred:0,referEarned:0});async function q(){const a=await o.get("/quiz");l.value=a.data.data[0],M.value=a.data.data[1],i.value=1,console.log(l.value)}async function U(){const a=await o.get("/category");h.value=a.data.data,console.log(h.value)}async function W(a){console.log(a);const r=await o.get("/quiz/contest",{params:{node_id:a}});p.value=r.data.data,console.log(p.value)}async function D(a){var r,e;try{t.value=!0;const s=await o.get(`/category/quiz/list?category_id=${a}`);return E.value=s.data.data,{success:s.data.success,message:s.data.message}}catch(s){return console.error("Error getting quizzes by category:",s),{success:!1,message:((e=(r=s.response)==null?void 0:r.data)==null?void 0:e.message)||"An unexpected error occurred"}}finally{t.value=!1}}function F(a){console.log("pinia VariantId",a),v.value=p.value.quiz_variants.find(r=>r.id===a),v.value&&(C.value=v.value.prize_contents)}async function T(a){var r,e;try{t.value=!0;const s=await o.post("admin/banner/update",a);return t.value=!1,{success:s.data.success,message:s.data.message}}catch(s){return t.value=!1,console.error("Error updating banner:",s),{success:!1,message:((e=(r=s.response)==null?void 0:r.data)==null?void 0:e.message)||"An unexpected error occurred"}}}async function $(){var a,r;try{t.value=!0;const e=await o.get("/banner/list");return _.value=e.data.data.banners,V.value=e.data.data.official_notice,m.value=e.data.data.official_notice_status,z.value=e.data.data.notice_updated_at,console.log(m),{success:e.data.success,message:e.data.message}}catch(e){return console.error("Error getting banners:",e),{success:!1,message:((r=(a=e.response)==null?void 0:a.data)==null?void 0:r.message)||"An unexpected error occurred"}}finally{t.value=!1}}async function P(){var a,r;try{t.value=!0;const e=await o.get(`/quiz?page=${i.value+1}`);return i.value=i.value+1,e.data.data&&e.data.data.length>0&&(l.value=[...l.value,...e.data.data[0]]),{success:e.data.success,message:e.data.message}}catch(e){return console.error("Error getting quizzes:",e),{success:!1,message:((r=(a=e.response)==null?void 0:a.data)==null?void 0:r.message)||"An unexpected error occurred"}}finally{t.value=!1}}async function S(a){var r,e;try{t.value=!0;const s=await o.get(`users/refer/list?page=${a.value+1}`);return f.value.claimedRewards=s.data.data.claimed_rewards,f.value.pendingRewards=s.data.data.pending_rewards,f.value.referEarned=s.data.data.refer_earned,f.value.totalReferred=s.data.data.total_referred,s.data.data&&s.data.data.referred_users.length>0&&(y.value=[...y.value,...s.data.data.referred_users]),t.value=!1,{success:s.data.success,message:s.data.message}}catch(s){return t.value=!1,console.error("Error updating banner:",s),{success:!1,message:((e=(r=s.response)==null?void 0:r.data)==null?void 0:e.message)||"An unexpected error occurred"}}}async function B(){var a,r;try{t.value=!0;const e=await o.get("how/videos");return A.value=e.data.data,{success:e.data.success,message:e.data.message}}catch(e){return console.error("Error getting videos:",e),{success:!1,message:((r=(a=e.response)==null?void 0:a.data)==null?void 0:r.message)||"An unexpected error occurred"}}finally{t.value=!1}}async function H(a){var r,e;try{t.value=!0;const s=await o.post("admin/howVideos/update",a);return t.value=!1,{success:s.data.success,message:s.data.message}}catch(s){return t.value=!1,console.error("Error updating videos:",s),{success:!1,message:((e=(r=s.response)==null?void 0:r.data)==null?void 0:e.message)||"An unexpected error occurred"}}}async function Q(){var a,r;try{t.value=!0;const e=await o.get("/featured/videos");return t.value=!1,e.data.success&&(w.value=e.data.data,console.log("Featured videos fetched:",w.value)),{success:e.data.success,message:e.data.message,data:e.data.data}}catch(e){return t.value=!1,console.error("Error fetching featured videos:",e),{success:!1,message:((r=(a=e.response)==null?void 0:a.data)==null?void 0:r.message)||"An unexpected error occurred"}}}async function j(a){var r,e;try{console.log("Adding featured video:",a),t.value=!0;const s=await o.post("/featured/video/add",{video:a});return t.value=!1,{success:s.data.success,message:s.data.message,data:s.data.data}}catch(s){return t.value=!1,console.error("Error adding featured video:",s),{success:!1,message:((e=(r=s.response)==null?void 0:r.data)==null?void 0:e.message)||"An unexpected error occurred"}}}async function k(a){var r,e;try{console.log("Updating featured videos:",a),t.value=!0;const s=await o.post("/featured/video/update",a);return t.value=!1,{success:s.data.success,message:s.data.message,data:s.data.data}}catch(s){return t.value=!1,console.error("Error updating featured videos:",s),{success:!1,message:((e=(r=s.response)==null?void 0:r.data)==null?void 0:e.message)||"An unexpected error occurred"}}}async function G(a){var r,e;try{console.log("Deleting featured video with ID:",a),t.value=!0;const s=await o.post("/featured/video/delete",{video_id:a});return t.value=!1,{success:s.data.success,message:s.data.message}}catch(s){return t.value=!1,console.error("Error deleting featured video:",s),{success:!1,message:((e=(r=s.response)==null?void 0:r.data)==null?void 0:e.message)||"An unexpected error occurred"}}}async function J(a){var r,e,s,n;try{t.value=!0;const u=await o.post("/expert/video/create",a,{headers:{"Content-Type":"multipart/form-data"}});return t.value=!1,{success:u.data.success,message:u.data.message,data:u.data.data}}catch(u){t.value=!1,console.error("Error creating expert video:",u);const d=((e=(r=u.response)==null?void 0:r.data)==null?void 0:e.message)||"An unexpected error occurred",x=((n=(s=u.response)==null?void 0:s.data)==null?void 0:n.errors)||null;return{success:!1,message:d,errors:x}}}async function K(a,r){var e,s,n,u;try{console.log("Updating expert video:",a),t.value=!0;const d=await o.post("/expert/video/update",r,{headers:{"Content-Type":"multipart/form-data"}});return t.value=!1,{success:d.data.success,message:d.data.message,data:d.data.data}}catch(d){t.value=!1,console.error("Error updating expert video:",d);const x=((s=(e=d.response)==null?void 0:e.data)==null?void 0:s.message)||"An unexpected error occurred",re=((u=(n=d.response)==null?void 0:n.data)==null?void 0:u.errors)||null;return{success:!1,message:x,errors:re}}}async function L(a){var r,e;try{console.log("Deleting expert video with ID:",a),t.value=!0;const s=await o.post("/expert/video/delete",{video_id:a});return t.value=!1,{success:s.data.success,message:s.data.message}}catch(s){return t.value=!1,console.error("Error deleting expert video:",s),{success:!1,message:((e=(r=s.response)==null?void 0:r.data)==null?void 0:e.message)||"An unexpected error occurred"}}}async function N(a){var r,e;try{console.log("Toggling expert video status:",a),t.value=!0;const s=await o.post("/expert/video/toggle-status",{video_id:a});return t.value=!1,{success:s.data.success,message:s.data.message,data:s.data.data}}catch(s){return t.value=!1,console.error("Error toggling expert video status:",s),{success:!1,message:((e=(r=s.response)==null?void 0:r.data)==null?void 0:e.message)||"An unexpected error occurred"}}}async function O(){var a,r;try{t.value=!0;const e=await o.get("/expert/video/list");return t.value=!1,e.data.success&&console.log("Expert videos fetched:",e.data.data),{success:e.data.success,message:e.data.message,data:e.data.data}}catch(e){return t.value=!1,console.error("Error fetching expert videos:",e),{success:!1,message:((r=(a=e.response)==null?void 0:a.data)==null?void 0:r.message)||"An unexpected error occurred",data:[]}}}async function X(){var a,r;try{t.value=!0;const e=await o.get("/expert/videos");return t.value=!1,e.data.success&&console.log("Expert videos fetched:",e.data.data),{success:e.data.success,message:e.data.message,data:e.data.data}}catch(e){return t.value=!1,console.error("Error fetching expert videos:",e),{success:!1,message:((r=(a=e.response)==null?void 0:a.data)==null?void 0:r.message)||"An unexpected error occurred",data:[]}}}async function Y(a){var r,e;try{console.log("Purchasing expert video:",a),t.value=!0;const s=await o.post("/expert/video/purchase",{video_id:a});return t.value=!1,{success:s.data.success,message:s.data.message,data:s.data.data}}catch(s){return t.value=!1,console.error("Error purchasing expert video:",s),{success:!1,message:((e=(r=s.response)==null?void 0:r.data)==null?void 0:e.message)||"An unexpected error occurred"}}}async function Z(){var a,r;try{t.value=!0;const e=await o.get("/recent/winners");return t.value=!1,e.data.success&&(g.value=e.data.data,console.log("Recent winners fetched:",g.value)),{success:e.data.success,message:e.data.message,data:e.data.data}}catch(e){return t.value=!1,console.error("Error fetching recent winners:",e),{success:!1,message:((r=(a=e.response)==null?void 0:a.data)==null?void 0:r.message)||"An unexpected error occurred",data:[]}}}async function I(){var a,r;try{t.value=!0;const e=await o.get("/admin/winner");return t.value=!1,e.data.success&&(g.value=e.data.data,console.log("Recent winners fetched:",g.value)),{success:e.data.success,message:e.data.message,data:e.data.data}}catch(e){return t.value=!1,console.error("Error fetching recent winners:",e),{success:!1,message:((r=(a=e.response)==null?void 0:a.data)==null?void 0:r.message)||"An unexpected error occurred",data:[]}}}async function ee(a){var r,e;try{console.log("Adding winner:",a),t.value=!0;const s=await o.post("/admin/winner/add",a,{headers:{"Content-Type":"multipart/form-data"}});return t.value=!1,{success:s.data.success,message:s.data.message,data:s.data.data}}catch(s){return t.value=!1,console.error("Error adding winner:",s),{success:!1,message:((e=(r=s.response)==null?void 0:r.data)==null?void 0:e.message)||"An unexpected error occurred"}}}async function se(a,r){var e,s;try{console.log("Updating winner:",a,r),t.value=!0;const n=await o.post(`/admin/winner/update/${a}`,r,{headers:{"Content-Type":"multipart/form-data"}});return t.value=!1,{success:n.data.success,message:n.data.message,data:n.data.data}}catch(n){return t.value=!1,console.error("Error updating winner:",n),{success:!1,message:((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"An unexpected error occurred"}}}async function ae(a){var r,e;try{console.log("Deleting winner with UID:",a),t.value=!0;const s=await o.delete(`/admin/winner/delete/${a}`);return t.value=!1,{success:s.data.success,message:s.data.message}}catch(s){return t.value=!1,console.error("Error deleting winner:",s),{success:!1,message:((e=(r=s.response)==null?void 0:r.data)==null?void 0:e.message)||"An unexpected error occurred"}}}return{fetchCurrentContest:W,fetchContests:q,fetchMoreContests:P,fetchCategories:U,getPrizeContents:F,fetchHomeBanners:$,fetchQuizzesByCategory:D,updateHowVideo:H,fetchHowVideos:B,updateBanner:T,fetchReferredUsers:S,fetchFeaturedVideos:Q,updateFeaturedVideo:k,addFeaturedVideo:j,deleteFeaturedVideo:G,createExpertVideo:J,updateExpertVideo:K,deleteExpertVideo:L,toggleExpertVideoStatus:N,fetchExpertVideos:X,fetchUserExpertVideos:O,purchaseExpertVideo:Y,fetchRecentWinners:Z,fetchWinners:I,addWinner:ee,updateWinner:se,deleteWinner:ae,banners:_,official_notice:V,official_notice_status:m,notice_updated_at:z,prizeContents:C,hasShownVideo:b,variant:v,contest:p,catContests:E,totalCount:M,howVideos:A,loading:t,page:i,recordPerPage:R,contests:l,categories:h,referredUsers:y,referredMetaData:f,featuredVideos:w,recentWinners:g}});export{ne as u};
