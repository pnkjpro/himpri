import{u as z}from"./mainStore-CL-8IoQC.js";import{u as T,a as A,s as p,q as x,c as s,b as t,h as C,i as a,t as l,F as G,d as R,o,l as j}from"./index-lwxLPvsS.js";import{l as q,b as B,F}from"./index-DiBy0B_j.js";import{u as $}from"./transactionStore-9jhzBneK.js";const I={class:"flex flex-col min-h-screen bg-gray-100"},J={class:"m-4"},N={class:"bg-white rounded-xl p-4 shadow-sm"},V={class:"text-3xl font-bold my-1"},D={class:"flex justify-between text-xs"},L={class:"text-gray-500"},O={class:"mx-4 my-2"},P={key:1,disabled:"",class:"w-full bg-stone-400 text-white py-3 rounded-lg font-medium"},E={key:2,disabled:"",class:"w-full bg-stone-400 text-white py-3 rounded-lg font-medium"},M={key:3,disabled:"",class:"w-full bg-stone-400 text-white py-3 rounded-lg font-medium"},Q={class:"overflow-y-auto flex-1"},W={class:"w-full"},H={class:"text-left py-3 px-6"},K={class:"text-right py-3 px-6 text-gray-700"},et={__name:"GameDetail",setup(U){q.add(B);const u=j(),m=T(),g=z(),v=A(),y=$(),{contest:_,prizeContents:f,variant:n}=p(g),{user:h}=p(v),w=async r=>{const e=await y.joinGame(n.value.id);e.success?(m.success(e.message),u.push("/quiz/instruction")):m.error(e.message)},c=x(()=>h.value.user_responses.find(r=>r.node_id==_.value.node_id)||null),i=x(()=>c.value?c.value.quiz_variant_id===n.value.id?c.value.status:"disabled":"pending"),k=()=>{u.back()},S=r=>{u.push(r)};return console.log(f.value),(r,e)=>(o(),s("div",I,[t("div",{onClick:e[0]||(e[0]=d=>k()),class:"bg-orange-500 text-white p-3 flex items-center"},[C(a(F),{icon:"arrow-left",class:"mr-2"})]),t("div",J,[t("div",N,[e[4]||(e[4]=t("div",{class:"text-gray-500 text-sm"},"Prize Pool",-1)),t("div",V,"₹ "+l(a(n).prize),1),e[5]||(e[5]=t("div",{class:"h-1 bg-red-500 w-full my-1"},null,-1)),t("div",D,[e[3]||(e[3]=t("div",{class:"text-red-500"},"5 spot left",-1)),t("div",L,"Total Spot : "+l(a(n).slot_limit),1)])])]),t("div",O,[i.value=="joined"?(o(),s("button",{key:0,onClick:e[1]||(e[1]=d=>S("/quiz/instruction")),class:"w-full bg-green-500 text-white py-3 rounded-lg font-medium"}," Start Quiz ")):i.value=="disabled"?(o(),s("button",P," Joined Other Variant! ")):i.value=="initiated"?(o(),s("button",E," Game Already Started! ")):i.value=="completed"?(o(),s("button",M," Game Completed! ")):(o(),s("button",{key:4,onClick:e[2]||(e[2]=d=>w(a(n).id)),class:"w-full bg-green-500 text-white py-3 rounded-lg font-medium"}," JOIN ₹ "+l(a(n).entry_fee),1))]),e[7]||(e[7]=t("div",{class:"flex border-b border-gray-200 mt-2"},[t("div",{class:"flex-1 text-center py-3 text-red-700 font-medium border-b-2 border-red-700"}," Winning ")],-1)),t("div",Q,[t("table",W,[e[6]||(e[6]=t("thead",null,[t("tr",{class:"border-b border-gray-200"},[t("th",{class:"text-left py-4 px-6 text-red-700 font-medium"},"Rank"),t("th",{class:"text-right py-4 px-6 text-red-700 font-medium"},"Amount")])],-1)),t("tbody",null,[(o(!0),s(G,null,R(a(f),(d,b)=>(o(),s("tr",{key:b,class:"border-b border-gray-100"},[t("td",H,"Rank "+l(b),1),t("td",K,"₹ "+l(d),1)]))),128))])])])]))}};export{et as default};
