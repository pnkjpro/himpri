import{D as A,r as u,E as n}from"./index-B7doMWID.js";const x=A("admin",()=>{const o=u(!1),l=u(null),d=u([]),i=u([]),c=u([]);async function f(r){var a,e;try{o.value=!0;const s=await n.post("/admin/category/create",r);return{success:s.data.success,message:s.data.message}}catch(s){return console.error("Error using Lifeline:",s),{success:!1,message:((e=(a=s.response)==null?void 0:a.data)==null?void 0:e.message)||"An unexpected error occurred"}}finally{o.value=!1}}async function p(r){var a,e;try{o.value=!0;const s=await n.post("/admin/quiz/create",r);return o.value=!0,{success:s.data.success,message:s.data.message}}catch(s){return o.value=!0,console.error("Error using Lifeline:",s),{success:!1,message:((e=(a=s.response)==null?void 0:a.data)==null?void 0:e.message)||"An unexpected error occurred"}}}async function v(){var r,a;try{o.value=!0;const e=await n.get("/admin/transaction/list/all");return c.value=[...e.data.data],console.log(c.value),{success:e.data.success,message:e.data.message}}catch(e){return console.error("Error using Lifeline:",e),{success:!1,message:((a=(r=e.response)==null?void 0:r.data)==null?void 0:a.message)||"An unexpected error occurred"}}finally{o.value=!1}}async function y(r,a){var e,s;try{console.log(r),o.value=!0;const t=await n.post("/admin/transaction/approval",{uid:r.user_id,approval_id:r.id,change_approval:a});if(t.data.success){const g={...r,approved_status:a},m=c.value.findIndex(L=>L.id===r.id);m!==-1&&(c.value[m]=g)}return{success:t.data.success,message:t.data.message}}catch(t){return console.error("Error using Lifeline:",t),{success:!1,message:((s=(e=t.response)==null?void 0:e.data)==null?void 0:s.message)||"An unexpected error occurred"}}finally{o.value=!1}}return{createCategory:f,createQuiz:p,fetchTransactions:v,statusApproval:y,listAdminLeaderboards:async()=>{var r,a;o.value=!0,l.value=null;try{const e=await n.get("/admin/list/leaderboards");return d.value=e.data.data,{success:e.data.success,message:e.data.message}}catch(e){return console.error("Error using Lifeline:",e),{success:!1,message:((a=(r=e.response)==null?void 0:r.data)==null?void 0:a.message)||"An unexpected error occurred"}}finally{o.value=!1}},showAdminLeaderboard:async r=>{var a,e;o.value=!0,l.value=null;try{const s=await n.post("/admin/show/leaderboard",r);return i.value=s.data.data,{success:s.data.success,message:s.data.message}}catch(s){return console.error("Error using Lifeline:",s),{success:!1,message:((e=(a=s.response)==null?void 0:a.data)==null?void 0:e.message)||"An unexpected error occurred"}}finally{o.value=!1}},resetLeaderboardState:()=>{d.value=[],i.value=[],l.value=null},allTransactions:c,leaderboards:d,currentLeaderboard:i,loading:o}});export{x as u};
