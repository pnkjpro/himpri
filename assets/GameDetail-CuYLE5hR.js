import{u as z}from"./mainStore-S5ga5wuf.js";import{u as T,a as A,s as p,q as x,c as s,b as e,h as C,i as r,t as l,F as G,d as R,o,l as j}from"./index-uFfIxyeC.js";import{l as q,n as B,F}from"./index-N9laZ-Wb.js";import{u as $}from"./transactionStore-DRIzr_f-.js";const I={class:"flex flex-col min-h-screen bg-gray-100"},J={class:"m-4"},N={class:"bg-white rounded-xl p-4 shadow-sm"},V={class:"text-3xl font-bold my-1"},D={class:"flex justify-between text-xs"},L={class:"text-gray-500"},O={class:"mx-4 my-2"},P={key:1,disabled:"",class:"w-full bg-stone-400 text-white py-3 rounded-lg font-medium"},E={key:2,disabled:"",class:"w-full bg-stone-400 text-white py-3 rounded-lg font-medium"},M={key:3,disabled:"",class:"w-full bg-stone-400 text-white py-3 rounded-lg font-medium"},Q={class:"overflow-y-auto flex-1"},W={class:"w-full"},H={class:"text-left py-3 px-6"},K={class:"text-right py-3 px-6 text-gray-700"},et={__name:"GameDetail",setup(U){q.add(B);const u=j(),m=T(),g=z(),v=A(),y=$(),{contest:_,prizeContents:f,variant:n}=p(g),{user:h}=p(v),w=async a=>{const t=await y.joinGame(n.value.id);t.success?(m.success(t.message),u.push("/quiz/instruction")):m.error(t.message)},c=x(()=>{var a;return((a=h.value)==null?void 0:a.user_responses.find(t=>t.node_id===_.value.node_id))||null}),i=x(()=>c.value?c.value.quiz_variant_id===n.value.id?c.value.status:"disabled":"pending"),k=()=>{u.back()},S=a=>{u.push(a)};return console.log(f.value),(a,t)=>(o(),s("div",I,[e("div",{onClick:t[0]||(t[0]=d=>k()),class:"bg-orange-500 text-white p-3 flex items-center"},[C(r(F),{icon:"arrow-left",class:"mr-2"})]),e("div",J,[e("div",N,[t[4]||(t[4]=e("div",{class:"text-gray-500 text-sm"},"Prize Pool",-1)),e("div",V,"₹ "+l(r(n).prize),1),t[5]||(t[5]=e("div",{class:"h-1 bg-red-500 w-full my-1"},null,-1)),e("div",D,[t[3]||(t[3]=e("div",{class:"text-red-500"},"5 spot left",-1)),e("div",L,"Total Spot : "+l(r(n).slot_limit),1)])])]),e("div",O,[i.value=="joined"?(o(),s("button",{key:0,onClick:t[1]||(t[1]=d=>S("/quiz/instruction")),class:"w-full bg-green-500 text-white py-3 rounded-lg font-medium"}," Start Quiz ")):i.value=="disabled"?(o(),s("button",P," Joined Other Variant! ")):i.value=="initiated"?(o(),s("button",E," Game Already Started! ")):i.value=="completed"?(o(),s("button",M," Game Completed! ")):(o(),s("button",{key:4,onClick:t[2]||(t[2]=d=>w(r(n).id)),class:"w-full bg-green-500 text-white py-3 rounded-lg font-medium"}," JOIN ₹ "+l(r(n).entry_fee),1))]),t[7]||(t[7]=e("div",{class:"flex border-b border-gray-200 mt-2"},[e("div",{class:"flex-1 text-center py-3 text-red-700 font-medium border-b-2 border-red-700"}," Winning ")],-1)),e("div",Q,[e("table",W,[t[6]||(t[6]=e("thead",null,[e("tr",{class:"border-b border-gray-200"},[e("th",{class:"text-left py-4 px-6 text-red-700 font-medium"},"Rank"),e("th",{class:"text-right py-4 px-6 text-red-700 font-medium"},"Amount")])],-1)),e("tbody",null,[(o(!0),s(G,null,R(r(f),(d,b)=>(o(),s("tr",{key:b,class:"border-b border-gray-100"},[e("td",H,"Rank "+l(b),1),e("td",K,"₹ "+l(d),1)]))),128))])])])]))}};export{et as default};
