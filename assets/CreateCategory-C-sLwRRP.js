import{_ as f,r as v,s as g,c as _,b as o,f as i,v as s,t as d,w as b,o as y}from"./index-lwxLPvsS.js";import{u as C}from"./adminStore-C6vRXUJm.js";import"./index.esm-BbitKbNZ.js";const F={class:"admin-form-container"},w={class:"form-group"},x={class:"form-group"},N={class:"form-group"},S={class:"file-field"},U={class:"file-name"},B={class:"form-group"},D={class:"color-picker"},I={class:"form-group"},V={class:"file-field"},k={class:"file-name"},O={__name:"CreateCategory",setup(A){const l={name:"",description:"",icon:"",icon_color:"#007bff",banner_image:"",display_order:1},n=v({...l}),r=()=>{Object.assign(n,JSON.parse(JSON.stringify(l)))},c=C();g(c);const p=a=>{const e=a.target.files[0];e&&(n.value.bannerFile=e,n.value.banner_image=e.name)},u=a=>{const e=a.target.files[0];e&&(n.value.iconFile=e,n.value.icon=e.name)},m=async()=>{try{const a=new FormData;a.append("name",n.value.name),a.append("description",n.value.description),a.append("icon_color",n.value.icon_color),n.value.iconFile&&a.append("icon",n.value.iconFile),n.value.bannerFile&&a.append("banner_image",n.value.bannerFile),(await c.createCategory(a)).success&&r()}catch(a){console.error("Error creating category:",a)}};return(a,e)=>(y(),_("div",F,[e[10]||(e[10]=o("h2",{class:"form-title"},"Add New Category",-1)),o("form",{onSubmit:b(m,["prevent"]),class:"category-form"},[o("div",w,[e[4]||(e[4]=o("label",{for:"name"},"Category Name",-1)),i(o("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=t=>n.value.name=t),type:"text",class:"form-control",required:""},null,512),[[s,n.value.name]])]),o("div",x,[e[5]||(e[5]=o("label",{for:"description"},"Description",-1)),i(o("textarea",{id:"description","onUpdate:modelValue":e[1]||(e[1]=t=>n.value.description=t),class:"form-control",rows:"3"},null,512),[[s,n.value.description]])]),o("div",N,[e[6]||(e[6]=o("label",{for:"icon"},"Icon",-1)),o("div",S,[o("input",{id:"icon",type:"file",onChange:u,class:"file-input",accept:"image/*"},null,32),o("span",U,d(n.value.icon||"No file chosen"),1)])]),o("div",B,[e[7]||(e[7]=o("label",{for:"icon_color"},"Icon Color",-1)),o("div",D,[i(o("input",{id:"icon_color","onUpdate:modelValue":e[2]||(e[2]=t=>n.value.icon_color=t),type:"text",class:"form-control"},null,512),[[s,n.value.icon_color]]),i(o("input",{type:"color","onUpdate:modelValue":e[3]||(e[3]=t=>n.value.icon_color=t),class:"color-input"},null,512),[[s,n.value.icon_color]])])]),o("div",I,[e[8]||(e[8]=o("label",{for:"banner_image"},"Banner Image",-1)),o("div",V,[o("input",{id:"banner_image",type:"file",onChange:p,class:"file-input",accept:"image/*"},null,32),o("span",k,d(n.value.banner_image||"No file chosen"),1)])]),o("div",{class:"form-actions"},[o("button",{type:"button",onClick:r,class:"btn-cancel"},"Cancel"),e[9]||(e[9]=o("button",{type:"submit",class:"btn-save"},"Save Category",-1))])],32)]))}},T=f(O,[["__scopeId","data-v-0541ec5d"]]);export{T as default};
