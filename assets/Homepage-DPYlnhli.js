import{_ as Z,u as J,r as m,a as X,s as C,B as ee,y as H,A as I,c as r,b as e,k as c,h as a,i as o,t as f,K as te,T as se,F as p,d as b,p as L,o as n,l as oe,n as re,m as ne,D as le}from"./index-CRn1I0yW.js";import{l as ae,F as i}from"./index.es-qPf2d6eU.js";import{u as ie}from"./mainStore-EPclxcda.js";import{u as de}from"./transactionStore-DZMG4JFV.js";import{k as ce,n as ue,o as fe,p as me,q as he,r as ge,s as xe,t as ve,u as pe,v as be,w as _e,x as we,l as ye,j as ke,y as Ce,z as Le,A as je,B as Te,C as Ae,D as Se}from"./index-BeD0zzHm.js";import{f as ze,a as Me}from"./fromUnixTime-DJExpFBG.js";import"./normalizeDates-D28e74vf.js";import"./en-US-ClfMaaVW.js";import"./differenceInSeconds-DCCrcfcw.js";const $e={key:0,class:"fixed inset-0 bg-gradient-to-r from-red-700 to-orange-600 flex justify-center items-center z-50"},Be=["src"],He={key:1,class:"min-h-screen bg-gradient-to-b from-orange-50 via-red-50 to-orange-50"},Ie={class:"flex justify-between items-center p-4 bg-gradient-to-r from-orange-600 to-red-600 text-white shadow-lg"},Ve={class:"flex items-center"},De={class:"relative"},Ee=["src"],Fe={class:"ml-4"},Re={class:"text-lg font-bold text-white"},Ue={key:0,class:"fixed top-0 left-0 w-3/4 h-full bg-gradient-to-b from-red-700 to-orange-800 p-6 z-50 shadow-lg"},Pe={class:"flex justify-between items-center mb-8"},Ne={class:"flex items-center"},qe=["src"],Oe={class:"ml-4 text-white"},Qe={class:"text-lg font-bold"},We={class:"bg-gradient-to-r from-orange-500 to-red-500 rounded-xl shadow-md text-white mb-6 overflow-hidden"},Ge={class:"p-4"},Ke={class:"flex items-center font-bold"},Ye={class:"ml-auto text-yellow-300 text-lg"},Ze={class:"grid grid-cols-2 gap-2 p-4 bg-red-600 bg-opacity-30"},Je={class:"text-white space-y-2 mb-8"},Xe=["onClick"],et=["disabled"],tt={key:0},st={key:1},ot={class:"p-4"},rt={class:"text-xl font-bold text-red-900 mb-3 flex items-center"},nt={class:"flex overflow-x-auto p-1 space-x-4 no-scrollbar"},lt=["onClick"],at=["src","alt"],it={class:"text-center font-bold text-sm mt-2 max-w-24 text-black-800"},dt={class:"px-4 mb-6"},ct={class:"text-xl font-bold text-red-900 mb-3 flex items-center"},ut={class:"overflow-x-auto flex space-x-4 no-scrollbar"},ft={class:"relative w-full h-full group"},mt=["src","alt"],ht={class:"flex justify-center space-x-2 mt-4"},gt={class:"p-4 bg-white rounded-t-3xl shadow-inner"},xt={class:"flex justify-between items-center mb-4"},vt={class:"text-2xl font-bold text-red-900 flex items-center"},pt={class:"space-y-4"},bt=["onClick"],_t={class:"w-1/4 flex-shrink-0"},wt={class:"rounded-lg overflow-hidden shadow-md h-full"},yt=["src","alt"],kt={class:"w-3/4 pl-4 flex flex-col justify-between"},Ct={class:"text-center mb-2"},Lt={class:"bg-gradient-to-r from-red-600 to-orange-600 text-white px-4 py-1 rounded-full text-sm font-bold inline-block shadow-sm"},jt={class:"mb-2"},Tt={class:"text-md font-bold text-black-900 truncate"},At={class:"mb-2 flex items-center"},St={key:0,class:"text-white font-bold flex items-center bg-red-500 px-3 py-0.5 rounded-full shadow-sm"},zt={key:1,class:"text-orange-600 font-medium flex items-center"},Mt={key:2,class:"text-white font-bold ml-auto px-3 py-0.5 bg-gradient-to-r from-green-500 to-teal-500 rounded-full shadow-sm"},$t={class:"flex items-center bg-gradient-to-r from-yellow-400 to-orange-300 p-2 rounded-lg shadow-sm"},Bt={class:"text-red-900 font-medium"},Ht={key:0,class:"mt-6 text-center"},It=["disabled"],Vt={key:0,class:"flex items-center justify-center"},Dt={key:1,class:"flex items-center justify-center"},Et={__name:"Homepage",setup(Ft){ae.add(ce,ue,fe,me,he,ge,xe,ve,pe,be,_e,we,ye,ke,Ce,Le,je,Te,Ae,Se);const h=ne(),V=J();le("config");const _=m(!1);m(0);const u=ie(),w=X(),D=de(),{contests:y,categories:E,banners:F,loading:Rt,totalCount:R,hasShownVideo:j}=C(u),{user:g}=C(w),{fundAction:T}=C(D),U=ee(()=>R.value>y.value.length),k=m(!1),P=m("/videos/himpri_intro.mp4"),x=m(null),N=()=>{j.value||(k.value=!0,x.value=setTimeout(()=>{A()},3e3))},A=()=>{k.value=!1,j.value=!0,x.value&&clearTimeout(x.value)},q=()=>{A()},S=l=>{T.value=l,console.log(l),console.log(T.value),h.push("/dashboard/funds")},O=async l=>{await u.fetchCurrentContest(l),h.push("/quiz/variants")},Q=async l=>{u.fetchQuizzesByCategory(l),h.push("/category/quiz/list")},W=()=>{u.fetchMoreContests()};H(()=>{N(),!(y.value.length>0)&&(u.fetchContests(),u.fetchCategories(),u.fetchHomeBanners(),u.fetchHowVideos())}),I(()=>{x.value&&clearTimeout(x.value)});const G=m([{text:"Refer & Earn",icon:"user",url:"dashboard/refernearn"},{text:"My Lifelines",icon:"phone",url:"dashboard/lifeline"},{text:"My Transactions",icon:"cash-register",url:"dashboard/transactions"},{text:"My Contests",icon:"gamepad",url:"dashboard/my-contests"},{text:"Lifeline History",icon:"history",url:"dashboard/lifeline-history"},{text:"Help & FAQs",icon:"question-circle",url:"faqs"},{text:"About Us",icon:"file-alt",url:"aboutus"},{text:"How to Play",icon:"gamepad",url:"how-to-play"},{text:"Terms & Conditions",icon:"file-alt",url:"terms"}]),K=l=>{h.push(`/${l}`),_.value=!1},Y=async()=>{const l=await w.logout();l.success?h.push("/auth/login"):V.error(l.message)},z=()=>_.value=!_.value,v=l=>{let t="/images/fallbackImage.png";return l&&(t=`https://api.himpri.com/storage/${l}`),t},M=m(new Date);H(()=>{const l=setInterval(()=>{M.value=new Date},6e4);I(()=>{clearInterval(l)})});function $(l){const t=ze(Number(l));return M.value>=t?{isLive:!0,text:"LIVE"}:{isLive:!1,text:Me(t)+" left"}}return(l,t)=>(n(),r("div",null,[k.value?(n(),r("div",$e,[e("video",{ref:"preloaderVideo",autoplay:"",muted:"",onEnded:q,class:"max-w-full max-h-full"},[e("source",{src:P.value,type:"video/mp4"},null,8,Be),t[2]||(t[2]=c(" Your browser does not support the video tag. "))],544)])):(n(),r("div",He,[e("header",Ie,[e("button",{onClick:z,class:"p-3 rounded-full bg-red-500 hover:bg-red-400 transition-colors shadow-md"},[a(o(i),{icon:"bars",class:"text-2xl text-white"})]),e("div",Ve,[e("div",De,[e("img",{src:v(o(g).avatar),alt:"User Avatar",class:"w-16 h-16 rounded-full object-cover border-4 border-orange-300"},null,8,Ee),t[3]||(t[3]=e("div",{class:"absolute -bottom-1 -right-1 bg-green-400 w-4 h-4 rounded-full border-2 border-white"},null,-1))]),e("div",Fe,[t[4]||(t[4]=e("p",{class:"text-orange-200 text-sm"},"Welcome back!",-1)),e("h1",Re,f(o(g).name),1)])])]),a(se,{name:"slide-fade"},{default:te(()=>[_.value?(n(),r("aside",Ue,[e("div",Pe,[e("div",Ne,[e("img",{src:v(o(g).avatar),alt:"User Avatar",class:"w-12 h-12 rounded-full object-cover border-2 border-orange-300"},null,8,qe),e("div",Oe,[e("h2",Qe,f(o(g).name),1)])]),e("button",{onClick:z,class:"text-white hover:text-orange-200 bg-red-600 p-2 rounded-full"},[a(o(i),{icon:"times",class:"text-xl"})])]),e("div",We,[e("div",Ge,[e("p",Ke,[a(o(i),{icon:"wallet",class:"mr-2 text-yellow-300"}),t[5]||(t[5]=c(" My Balance ")),e("span",Ye,"â‚¹ "+f(o(g).funds||0),1)])]),e("div",Ze,[e("button",{onClick:t[0]||(t[0]=s=>S("withdraw")),class:"py-2 bg-red-700 hover:bg-red-600 text-white rounded-lg font-medium text-sm transition-colors flex items-center justify-center shadow-md"},[a(o(i),{icon:"arrow-up",class:"mr-2 text-red-300"}),t[6]||(t[6]=c(" WITHDRAW "))]),e("button",{onClick:t[1]||(t[1]=s=>S("deposit")),class:"py-2 bg-gradient-to-r from-yellow-500 to-yellow-400 hover:from-yellow-400 hover:to-yellow-300 text-red-900 rounded-lg font-medium text-sm transition-colors flex items-center justify-center shadow-md"},[a(o(i),{icon:"plus",class:"mr-2"}),t[7]||(t[7]=c(" ADD CASH "))])])]),e("ul",Je,[(n(!0),r(p,null,b(G.value,(s,d)=>(n(),r("li",{key:d,onClick:B=>K(s.url),class:"flex items-center cursor-pointer p-3 rounded-lg hover:bg-red-600 transition-colors"},[a(o(i),{icon:s.icon,class:"mr-3 text-orange-300"},null,8,["icon"]),e("span",null,f(s.text),1)],8,Xe))),128))]),e("button",{onClick:Y,disabled:o(w).loading,class:"w-full py-3 mt-auto rounded-lg bg-gradient-to-r from-red-600 to-orange-500 text-white font-bold flex items-center justify-center hover:from-red-700 hover:to-orange-600 transition-colors shadow-md"},[a(o(i),{icon:"sign-out-alt",class:"mr-3"}),o(w).loading?(n(),r("span",tt,"Logging out...")):(n(),r("span",st,"Logout"))],8,et)])):L("",!0)]),_:1}),e("div",ot,[e("h2",rt,[a(o(i),{icon:"layer-group",class:"mr-2 text-orange-600"}),t[8]||(t[8]=c(" Categories "))]),e("div",nt,[(n(!0),r(p,null,b(o(E),(s,d)=>(n(),r("div",{key:d,class:"flex flex-col items-center"},[e("div",{onClick:B=>Q(s.id),class:"w-24 h-24 rounded-full overflow-hidden flex-shrink-0 border-4 border-white shadow-lg hover:shadow-xl transition-transform hover:scale-105",style:oe(`box-shadow: 0 10px 15px -3px rgba(${220+d*5%35}, ${(80+d*10)%120}, 50, 0.4)`)},[e("img",{src:v(s.icon),alt:s.name,class:"w-full h-full object-cover"},null,8,at)],12,lt),e("p",it,f(s.name),1)]))),128))])]),e("div",dt,[e("h2",ct,[a(o(i),{icon:"star",class:"mr-2 text-yellow-500"}),t[9]||(t[9]=c(" Featured "))]),e("div",ut,[(n(!0),r(p,null,b(o(F),(s,d)=>(n(),r("div",{key:d,class:"flex-shrink-0 w-64 h-32 rounded-xl overflow-hidden shadow-lg"},[e("div",ft,[e("img",{src:v(s.banner_path),alt:s.title,class:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"},null,8,mt),t[10]||(t[10]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-red-900 via-transparent to-transparent opacity-60"},null,-1))])]))),128))]),e("div",ht,[(n(),r(p,null,b(3,(s,d)=>e("div",{key:d,class:re(["h-2 rounded-full transition-all",d===1?"w-8 bg-orange-500":"w-2 bg-red-200"])},null,2)),64))])]),e("div",gt,[e("div",xt,[e("h2",vt,[a(o(i),{icon:"trophy",class:"mr-2 text-yellow-500"}),t[11]||(t[11]=c(" Upcoming Contests "))])]),e("div",pt,[(n(!0),r(p,null,b(o(y),(s,d)=>(n(),r("div",{key:d,class:"bg-gradient-to-r from-orange-50 to-red-50 rounded-xl overflow-hidden shadow-md border border-orange-100 hover:shadow-lg transition-shadow"},[e("div",{onClick:B=>O(s.node_id),class:"flex p-4"},[e("div",_t,[e("div",wt,[e("img",{src:v(s.banner_image),alt:s.title,class:"w-full h-full object-cover"},null,8,yt)])]),e("div",kt,[e("div",Ct,[e("span",Lt,f(s.category.name),1)]),e("div",jt,[e("h3",Tt,f(s.title),1)]),e("div",At,[$(s.start_time).isLive?(n(),r("p",St,t[12]||(t[12]=[e("span",{class:"inline-block h-2 w-2 rounded-full bg-white mr-2 animate-ping"},null,-1),c(" LIVE ")]))):(n(),r("p",zt,[a(o(i),{icon:"clock",class:"mr-2"}),c(" "+f($(s.start_time).text),1)])),s.entry_fees==0?(n(),r("span",Mt,"FREE")):L("",!0)]),e("div",$t,[t[13]||(t[13]=e("span",{class:"text-red-900 font-bold text-sm"},"PRIZE POOL",-1)),a(o(i),{icon:"trophy",class:"text-red-600 mx-2"}),e("span",Bt,"â‚¹ "+f(s.prize_money),1)])])],8,bt)]))),128)),U.value?(n(),r("div",Ht,[e("button",{onClick:W,class:"px-8 py-3 bg-gradient-to-r from-red-600 to-orange-600 text-white rounded-full shadow-lg hover:from-red-700 hover:to-orange-700 focus:outline-none focus:ring-2 focus:ring-red-400 transition-all transform hover:scale-105",disabled:o(u).loading},[o(u).loading?(n(),r("span",Vt,t[14]||(t[14]=[e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),c(" Loading... ")]))):(n(),r("span",Dt,[t[15]||(t[15]=c(" Load More ")),a(o(i),{icon:"chevron-down",class:"ml-2"})]))],8,It)])):L("",!0)])])]))]))}},Yt=Z(Et,[["__scopeId","data-v-ec8c55fb"]]);export{Yt as default};
