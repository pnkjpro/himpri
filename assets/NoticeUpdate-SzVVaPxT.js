import{r as n,c as d,b as a,f as b,v as p,t as c,p as m,K as f,o as v}from"./index-CP6W9PjL.js";const y={class:"max-w-xl mx-auto mt-10 p-6 bg-white rounded-2xl shadow"},_={class:"mb-4"},V={class:"mb-4"},w={class:"flex gap-3"},h=["disabled"],k={key:0,class:"mt-4 text-green-600 font-medium"},N={key:1,class:"mt-4 text-red-600 font-medium"},J={__name:"NoticeUpdate",setup(U){const u=n(""),o=n(""),r=n(!1),s=n(""),l=n(""),x=async()=>{s.value="",l.value="";try{const{data:t}=await f.get(`/api/admin/variables/${u.value}`);o.value=JSON.stringify(t.value,null,2)}catch{l.value="Variable not found",o.value=""}},g=async()=>{r.value=!0,s.value="",l.value="";try{const t=JSON.parse(o.value);await f.post(`/api/variables/${u.value}`,{value:t}),s.value="Variable updated successfully."}catch{l.value="Invalid JSON or API error."}finally{r.value=!1}};return(t,e)=>(v(),d("div",y,[e[4]||(e[4]=a("h2",{class:"text-2xl font-bold mb-4"},"Update Variable",-1)),a("div",_,[e[2]||(e[2]=a("label",{class:"block mb-1 text-gray-700 font-medium"},"Variable Name",-1)),b(a("input",{"onUpdate:modelValue":e[0]||(e[0]=i=>u.value=i),type:"text",placeholder:"e.g. official_notice",class:"w-full px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[p,u.value]])]),a("div",V,[e[3]||(e[3]=a("label",{class:"block mb-1 text-gray-700 font-medium"},"Value (JSON)",-1)),b(a("textarea",{"onUpdate:modelValue":e[1]||(e[1]=i=>o.value=i),rows:"6",class:"w-full px-4 py-2 border rounded-xl font-mono focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[p,o.value]])]),a("div",w,[a("button",{onClick:x,class:"bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold px-4 py-2 rounded-xl"}," Load "),a("button",{onClick:g,disabled:r.value,class:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded-xl"},c(r.value?"Updating...":"Update"),9,h)]),s.value?(v(),d("p",k,c(s.value),1)):m("",!0),l.value?(v(),d("p",N,c(l.value),1)):m("",!0)]))}};export{J as default};
