import{G as _,r as o,H as n}from"./index-DGIMCJ6f.js";const P=_("main",()=>{const t=o(!1);o(null);const i=o(0),c=o([]),f=o([]),v=o([]),u=o(1),p=o([]),h=o(2),w=o(!1),l=o(null),d=o({}),m=o([]),g=o([]);async function M(){const s=await n.get("/quiz");c.value=s.data.data[0],i.value=s.data.data[1],u.value=1,console.log(c.value)}async function z(){const s=await n.get("/category");g.value=s.data.data,console.log(g.value)}async function C(s){console.log(s);const a=await n.get("/quiz/contest",{params:{node_id:s}});l.value=a.data.data,console.log(l.value)}async function x(s){var a,e;try{t.value=!0;const r=await n.get(`/category/quiz/list?category_id=${s}`);return f.value=r.data.data,{success:r.data.success,message:r.data.message}}catch(r){return console.error("Error getting banners:",r),{success:!1,message:((e=(a=r.response)==null?void 0:a.data)==null?void 0:e.message)||"An unexpected error occurred"}}finally{t.value=!1}}function b(s){console.log("pinia VariantId",s),d.value=l.value.quiz_variants.find(a=>a.id===s),d.value&&(m.value=d.value.prize_contents)}async function q(s){var a,e;try{t.value=!0;const r=await n.post("admin/banner/update",s);return t.value=!1,{success:r.data.success,message:r.data.message}}catch(r){return t.value=!1,console.error("Error updating banner:",r),{success:!1,message:((e=(a=r.response)==null?void 0:a.data)==null?void 0:e.message)||"An unexpected error occurred"}}}async function A(){var s,a;try{t.value=!0;const e=await n.get("/banner/list");return p.value=e.data.data,{success:e.data.success,message:e.data.message}}catch(e){return console.error("Error getting banners:",e),{success:!1,message:((a=(s=e.response)==null?void 0:s.data)==null?void 0:a.message)||"An unexpected error occurred"}}finally{t.value=!1}}async function E(){var s,a;try{t.value=!0;const e=await n.get(`/quiz?page=${u.value+1}`);return u.value=u.value+1,e.data.data&&e.data.data.length>0&&(c.value=[...c.value,...e.data.data[0]]),{success:e.data.success,message:e.data.message}}catch(e){return console.error("Error getting quizzes:",e),{success:!1,message:((a=(s=e.response)==null?void 0:s.data)==null?void 0:a.message)||"An unexpected error occurred"}}finally{t.value=!1}}async function V(){var s,a;try{t.value=!0;const e=await n.get("how/videos");return v.value=e.data.data,{success:e.data.success,message:e.data.message}}catch(e){return console.error("Error getting videos:",e),{success:!1,message:((a=(s=e.response)==null?void 0:s.data)==null?void 0:a.message)||"An unexpected error occurred"}}finally{t.value=!1}}async function H(s){var a,e;try{t.value=!0;const r=await n.post("admin/howVideos/update",s);return t.value=!1,{success:r.data.success,message:r.data.message}}catch(r){return t.value=!1,console.error("Error updating videos:",r),{success:!1,message:((e=(a=r.response)==null?void 0:a.data)==null?void 0:e.message)||"An unexpected error occurred"}}}return{fetchCurrentContest:C,fetchContests:M,fetchMoreContests:E,fetchCategories:z,getPrizeContents:b,fetchHomeBanners:A,fetchQuizzesByCategory:x,updateHowVideo:H,fetchHowVideos:V,updateBanner:q,banners:p,prizeContents:m,hasShownVideo:w,variant:d,contest:l,catContests:f,totalCount:i,howVideos:v,loading:t,page:u,recordPerPage:h,contests:c,categories:g}});export{P as u};
