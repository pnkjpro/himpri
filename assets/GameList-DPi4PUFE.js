import{u as b}from"./mainStore-yRi8RT7p.js";import{s as h,c as r,b as s,h as m,i,t as l,F as y,d as v,o as a,l as w,m as z,D as k}from"./index-TC_BJqEW.js";import{l as j,F as f}from"./index.es-BLIuorgg.js";import{b as C,m as S,n as $}from"./index-DHaoE_mB.js";const B={class:"flex flex-col min-h-screen bg-gray-100"},F={class:"p-4 flex justify-between items-center"},T={class:"text-2xl font-bold text-gray-700"},P={class:"px-4 mb-4"},I={class:"relative w-full h-48 overflow-hidden rounded-lg"},L=["src"],M={class:"px-4 space-y-4"},q=["onClick"],A={class:"flex items-center"},D={class:"font-bold"},E={class:"text-right"},G={class:"bg-green-500 text-white px-3 py-1 rounded-lg"},N={class:"w-full bg-gray-200 rounded-full h-2 mb-1"},R={class:"flex justify-between text-xs"},V={class:"text-red-500"},O={class:"text-gray-500"},H={class:"flex justify-between text-xs mt-1"},Y={__name:"GameList",setup(J){const c=z(),d=b(),{contest:n,prizeContents:K}=h(d),_=o=>{let e="/images/fallbackImage.png";return o&&(e=`https://api.himpri.com/storage/${o}`),e},p=o=>{const e=o.user_responses_count,t=o.slot_limit;if(!t)return 0;const u=e/t*100;return Math.max(0,Math.min(100,u))};k("config");const g=o=>{console.log("gamelist variantId",o),d.getPrizeContents(o),c.push("/quiz/variant/details")},x=()=>{c.back()};return j.add(C,S,$),(o,e)=>(a(),r("div",B,[s("div",{onClick:e[0]||(e[0]=t=>x()),class:"bg-orange-500 text-white p-3 flex items-center"},[m(i(f),{icon:"arrow-left",class:"mr-2"})]),s("div",F,[s("h1",T,l(i(n).title),1)]),s("div",P,[s("div",I,[s("img",{src:_(i(n).banner_image),alt:"Sports athletes collage",class:"w-full h-full object-cover"},null,8,L)])]),e[4]||(e[4]=s("div",{class:"flex px-4 mb-4 border-b border-gray-200"},[s("div",{class:"pb-2 px-2 font-medium border-b-2 border-gray-800"},"Contest")],-1)),s("div",M,[(a(!0),r(y,null,v(i(n).quiz_variants,t=>(a(),r("div",{key:t.id,class:"bg-white rounded-lg shadow-sm p-4"},[s("div",{onClick:u=>g(t.id),class:"flex justify-between mb-2"},[s("div",null,[e[1]||(e[1]=s("div",{class:"font-medium"},"Prize Pool",-1)),s("div",A,[m(i(f),{icon:"trophy",class:"mr-2 text-gray-700"}),s("span",D,"Prize ₹ "+l(t.prize),1)])]),s("div",E,[e[2]||(e[2]=s("div",{class:"text-gray-500 text-sm"},"Entry Fee",-1)),s("button",G," ₹ "+l(t.entry_fee),1)])],8,q),s("div",N,[s("div",{class:"bg-red-500 h-2 rounded-full",style:w(`width: ${p(t)}%`)},null,4)]),s("div",R,[s("div",V,l(t.slot_limit-t.user_responses_count)+" spot left",1),s("div",O,"Total spot: "+l(t.slot_limit),1)]),s("div",H,[s("div",null,"1st prize - ₹ "+l((t==null?void 0:t.prize_contents["1"])||"..."),1),e[3]||(e[3]=s("div",{class:"text-gray-500"},"Guaranteed",-1))])]))),128))])]))}};export{Y as default};
