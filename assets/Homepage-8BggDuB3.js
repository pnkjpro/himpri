import{_ as N,r as x,u as Q,a as W,s as y,y as G,x as I,B as P,c as r,b as e,i as o,t as f,h as a,I as O,T as Z,k as u,F as p,d as _,p as k,o as l,l as J,n as K,m as X,A as Y}from"./index-B9NHMJu8.js";import{l as ee,F as i}from"./index.es-DK0C9BTO.js";import{u as te}from"./mainStore-BGAOuCyK.js";import{u as se}from"./transactionStore-BPK1LVVp.js";import{k as oe,n as ne,o as re,p as le,q as ae,r as ie,s as de,t as ce,u as ue,v as fe,w as me,x as he,l as ge,j as xe,y as pe,z as _e,A as ve,B as we,C as be}from"./index-Dj4gJ788.js";import{f as ye,a as ke}from"./fromUnixTime-BrNBFJ5H.js";import"./differenceInSeconds-DnHR6_Gw.js";const Ce={class:"min-h-screen bg-gradient-to-b from-orange-50 via-red-50 to-orange-50"},je={class:"flex justify-between items-center p-4 bg-gradient-to-r from-orange-600 to-red-600 text-white shadow-lg"},Ae={class:"flex items-center"},Le={class:"relative"},ze=["src"],Me={class:"ml-4"},Ie={class:"text-lg font-bold text-white"},Se={key:0,class:"fixed top-0 left-0 w-3/4 h-full bg-gradient-to-b from-red-700 to-orange-800 p-6 z-50 shadow-lg"},Te={class:"flex justify-between items-center mb-8"},$e={class:"flex items-center"},Be=["src"],De={class:"ml-4 text-white"},Fe={class:"text-lg font-bold"},He={class:"bg-gradient-to-r from-orange-500 to-red-500 rounded-xl shadow-md text-white mb-6 overflow-hidden"},Ee={class:"p-4"},Re={class:"flex items-center font-bold"},Ue={class:"ml-auto text-yellow-300 text-lg"},Ve={class:"grid grid-cols-2 gap-2 p-4 bg-red-600 bg-opacity-30"},qe={class:"text-white space-y-2 mb-8"},Ne=["onClick"],Qe=["disabled"],We={key:0},Ge={key:1},Pe={class:"p-4"},Oe={class:"text-xl font-bold text-red-900 mb-3 flex items-center"},Ze={class:"flex overflow-x-auto p-1 space-x-4 no-scrollbar"},Je=["onClick"],Ke=["src","alt"],Xe={class:"text-center font-medium text-sm mt-2 max-w-24 text-red-800"},Ye={class:"px-4 mb-6"},et={class:"text-xl font-bold text-red-900 mb-3 flex items-center"},tt={class:"overflow-x-auto flex space-x-4 no-scrollbar"},st={class:"relative w-full h-full group"},ot=["src","alt"],nt={class:"flex justify-center space-x-2 mt-4"},rt={class:"p-4 bg-white rounded-t-3xl shadow-inner"},lt={class:"flex justify-between items-center mb-4"},at={class:"text-2xl font-bold text-red-900 flex items-center"},it={class:"space-y-4"},dt=["onClick"],ct={class:"w-1/4 flex-shrink-0"},ut={class:"rounded-lg overflow-hidden shadow-md h-full"},ft=["src","alt"],mt={class:"w-3/4 pl-4 flex flex-col justify-between"},ht={class:"text-center mb-2"},gt={class:"bg-gradient-to-r from-red-600 to-orange-600 text-white px-4 py-1 rounded-full text-xs font-medium inline-block shadow-sm"},xt={class:"mb-2"},pt={class:"text-md font-bold text-red-900 truncate"},_t={class:"mb-2 flex items-center"},vt={key:0,class:"text-white font-bold flex items-center bg-red-500 px-3 py-0.5 rounded-full shadow-sm"},wt={key:1,class:"text-orange-600 font-medium flex items-center"},bt={key:2,class:"text-white font-bold ml-auto px-3 py-0.5 bg-gradient-to-r from-green-500 to-teal-500 rounded-full shadow-sm"},yt={class:"flex items-center bg-gradient-to-r from-yellow-400 to-orange-300 p-2 rounded-lg shadow-sm"},kt={class:"text-red-900 font-medium"},Ct={key:0,class:"mt-6 text-center"},jt=["disabled"],At={key:0,class:"flex items-center justify-center"},Lt={key:1,class:"flex items-center justify-center"},zt={__name:"Homepage",setup(Mt){ee.add(oe,ne,re,le,ae,ie,de,ce,ue,fe,me,he,ge,xe,pe,_e,ve,we,be),x("/api/placeholder/80/80");const m=X(),S=Q();Y("config");const v=x(!1);x(0);const c=te(),w=W(),T=se(),{contests:b,categories:$,banners:B,loading:It,totalCount:D}=y(c),{user:h}=y(w),{fundAction:C}=y(T),F=G(()=>D.value>b.value.length),j=n=>{C.value=n,console.log(n),console.log(C.value),m.push("/dashboard/funds")},H=async n=>{await c.fetchCurrentContest(n),m.push("/quiz/variants")},E=async n=>{c.fetchQuizzesByCategory(n),m.push("/category/quiz/list")},R=()=>{c.fetchMoreContests()};I(()=>{b.value.length>0||(c.fetchContests(),c.fetchCategories(),c.fetchHomeBanners(),c.fetchHowVideos())});const U=x([{text:"Refer & Earn",icon:"user",url:"dashboard/refernearn"},{text:"My Lifelines",icon:"phone",url:"dashboard/lifeline"},{text:"My Transactions",icon:"cash-register",url:"dashboard/transactions"},{text:"My Contests",icon:"gamepad",url:"dashboard/my-contests"},{text:"Help & FAQs",icon:"question-circle",url:"faqs"},{text:"About Us",icon:"file-alt",url:"aboutus"},{text:"How to Play",icon:"gamepad",url:"how-to-play"},{text:"Terms & Conditions",icon:"file-alt",url:"terms"}]),V=n=>{m.push(`/${n}`),v.value=!1},q=async()=>{const n=await w.logout();n.success?m.push("/auth/login"):S.error(n.message)},A=()=>v.value=!v.value,g=n=>{let t="/images/fallbackImage.png";return n&&(t=`https://api.himpri.com/storage/${n}`),t},L=x(new Date);I(()=>{const n=setInterval(()=>{L.value=new Date},6e4);P(()=>{clearInterval(n)})});function z(n){const t=typeof n=="number"?ye(n):new Date(n);return L.value>=t?{isLive:!0,text:"LIVE"}:{isLive:!1,text:ke(t)+" left"}}return(n,t)=>(l(),r("div",Ce,[e("header",je,[e("div",Ae,[e("div",Le,[e("img",{src:g(o(h).avatar),alt:"User Avatar",class:"w-16 h-16 rounded-full object-cover border-4 border-orange-300"},null,8,ze),t[2]||(t[2]=e("div",{class:"absolute -bottom-1 -right-1 bg-green-400 w-4 h-4 rounded-full border-2 border-white"},null,-1))]),e("div",Me,[t[3]||(t[3]=e("p",{class:"text-orange-200 text-sm"},"Welcome back!",-1)),e("h1",Ie,f(o(h).name),1)])]),e("button",{onClick:A,class:"p-3 rounded-full bg-red-500 hover:bg-red-400 transition-colors shadow-md"},[a(o(i),{icon:"bars",class:"text-2xl text-white"})])]),a(Z,{name:"slide-fade"},{default:O(()=>[v.value?(l(),r("aside",Se,[e("div",Te,[e("div",$e,[e("img",{src:g(o(h).avatar),alt:"User Avatar",class:"w-12 h-12 rounded-full object-cover border-2 border-orange-300"},null,8,Be),e("div",De,[e("h2",Fe,f(o(h).name),1)])]),e("button",{onClick:A,class:"text-white hover:text-orange-200 bg-red-600 p-2 rounded-full"},[a(o(i),{icon:"times",class:"text-xl"})])]),e("div",He,[e("div",Ee,[e("p",Re,[a(o(i),{icon:"wallet",class:"mr-2 text-yellow-300"}),t[4]||(t[4]=u(" My Balance ")),e("span",Ue,"₹ "+f(o(h).funds||0),1)])]),e("div",Ve,[e("button",{onClick:t[0]||(t[0]=s=>j("withdraw")),class:"py-2 bg-red-700 hover:bg-red-600 text-white rounded-lg font-medium text-sm transition-colors flex items-center justify-center shadow-md"},[a(o(i),{icon:"arrow-up",class:"mr-2 text-red-300"}),t[5]||(t[5]=u(" WITHDRAW "))]),e("button",{onClick:t[1]||(t[1]=s=>j("deposit")),class:"py-2 bg-gradient-to-r from-yellow-500 to-yellow-400 hover:from-yellow-400 hover:to-yellow-300 text-red-900 rounded-lg font-medium text-sm transition-colors flex items-center justify-center shadow-md"},[a(o(i),{icon:"plus",class:"mr-2"}),t[6]||(t[6]=u(" ADD CASH "))])])]),e("ul",qe,[(l(!0),r(p,null,_(U.value,(s,d)=>(l(),r("li",{key:d,onClick:M=>V(s.url),class:"flex items-center cursor-pointer p-3 rounded-lg hover:bg-red-600 transition-colors"},[a(o(i),{icon:s.icon,class:"mr-3 text-orange-300"},null,8,["icon"]),e("span",null,f(s.text),1)],8,Ne))),128))]),e("button",{onClick:q,disabled:o(w).loading,class:"w-full py-3 mt-auto rounded-lg bg-gradient-to-r from-red-600 to-orange-500 text-white font-bold flex items-center justify-center hover:from-red-700 hover:to-orange-600 transition-colors shadow-md"},[a(o(i),{icon:"sign-out-alt",class:"mr-3"}),o(w).loading?(l(),r("span",We,"Logging out...")):(l(),r("span",Ge,"Logout"))],8,Qe)])):k("",!0)]),_:1}),e("div",Pe,[e("h2",Oe,[a(o(i),{icon:"layer-group",class:"mr-2 text-orange-600"}),t[7]||(t[7]=u(" Categories "))]),e("div",Ze,[(l(!0),r(p,null,_(o($),(s,d)=>(l(),r("div",{key:d,class:"flex flex-col items-center"},[e("div",{onClick:M=>E(s.id),class:"w-24 h-24 rounded-full overflow-hidden flex-shrink-0 border-4 border-white shadow-lg hover:shadow-xl transition-transform hover:scale-105",style:J(`box-shadow: 0 10px 15px -3px rgba(${220+d*5%35}, ${(80+d*10)%120}, 50, 0.4)`)},[e("img",{src:g(s.icon),alt:s.name,class:"w-full h-full object-cover"},null,8,Ke)],12,Je),e("p",Xe,f(s.name),1)]))),128))])]),e("div",Ye,[e("h2",et,[a(o(i),{icon:"star",class:"mr-2 text-yellow-500"}),t[8]||(t[8]=u(" Featured "))]),e("div",tt,[(l(!0),r(p,null,_(o(B),(s,d)=>(l(),r("div",{key:d,class:"flex-shrink-0 w-64 h-32 rounded-xl overflow-hidden shadow-lg"},[e("div",st,[e("img",{src:g(s.banner_path),alt:s.title,class:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"},null,8,ot),t[9]||(t[9]=e("div",{class:"absolute inset-0 bg-gradient-to-t from-red-900 via-transparent to-transparent opacity-60"},null,-1))])]))),128))]),e("div",nt,[(l(),r(p,null,_(3,(s,d)=>e("div",{key:d,class:K(["h-2 rounded-full transition-all",d===1?"w-8 bg-orange-500":"w-2 bg-red-200"])},null,2)),64))])]),e("div",rt,[e("div",lt,[e("h2",at,[a(o(i),{icon:"trophy",class:"mr-2 text-yellow-500"}),t[10]||(t[10]=u(" Upcoming Contests "))])]),e("div",it,[(l(!0),r(p,null,_(o(b),(s,d)=>(l(),r("div",{key:d,class:"bg-gradient-to-r from-orange-50 to-red-50 rounded-xl overflow-hidden shadow-md border border-orange-100 hover:shadow-lg transition-shadow"},[e("div",{onClick:M=>H(s.node_id),class:"flex p-4"},[e("div",ct,[e("div",ut,[e("img",{src:g(s.banner_image),alt:s.title,class:"w-full h-full object-cover"},null,8,ft)])]),e("div",mt,[e("div",ht,[e("span",gt,f(s.category.name),1)]),e("div",xt,[e("h3",pt,f(s.title),1)]),e("div",_t,[z(s.start_time).isLive?(l(),r("p",vt,t[11]||(t[11]=[e("span",{class:"inline-block h-2 w-2 rounded-full bg-white mr-2 animate-ping"},null,-1),u(" LIVE ")]))):(l(),r("p",wt,[a(o(i),{icon:"clock",class:"mr-2"}),u(" "+f(z(s.start_time).text),1)])),s.entry_fees==0?(l(),r("span",bt,"FREE")):k("",!0)]),e("div",yt,[t[12]||(t[12]=e("span",{class:"text-red-900 font-bold text-sm"},"MEGA PRIZE",-1)),a(o(i),{icon:"trophy",class:"text-red-600 mx-2"}),e("span",kt,"₹ "+f(s.prize_money),1)])])],8,dt)]))),128)),F.value?(l(),r("div",Ct,[e("button",{onClick:R,class:"px-8 py-3 bg-gradient-to-r from-red-600 to-orange-600 text-white rounded-full shadow-lg hover:from-red-700 hover:to-orange-700 focus:outline-none focus:ring-2 focus:ring-red-400 transition-all transform hover:scale-105",disabled:o(c).loading},[o(c).loading?(l(),r("span",At,t[13]||(t[13]=[e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),u(" Loading... ")]))):(l(),r("span",Lt,[t[14]||(t[14]=u(" Load More ")),a(o(i),{icon:"chevron-down",class:"ml-2"})]))],8,jt)])):k("",!0)])])]))}},Et=N(zt,[["__scopeId","data-v-de5f995d"]]);export{Et as default};
