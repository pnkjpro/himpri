import{u as Y}from"./quizStore-Cj6vFRjU.js";import{u as C,s as H,y as P,c as D,b as o,k,t as h,i as w,F as B,d as A,o as T,n as I,m as O}from"./index-Cbp-QEoN.js";import{t as M,c as y,n as b,g as F,m as V,a as z,b as j,d as L,e as U,f as p,h as Q,i as R}from"./differenceInSeconds-DnHR6_Gw.js";import"./mainStore-CaqcJ6Hn.js";function $(n,s,e){const t=M(n);return isNaN(s)?y(n,NaN):(s&&t.setDate(t.getDate()+s),t)}function W(n,s,e){const t=M(n);if(isNaN(s))return y(n,NaN);if(!s)return t;const r=t.getDate(),i=y(n,t.getTime());i.setMonth(t.getMonth()+s+1,0);const d=i.getDate();return r>=d?i:(t.setFullYear(i.getFullYear(),i.getMonth(),r),t)}function _(n,s,e){const{years:t=0,months:r=0,weeks:i=0,days:d=0,hours:l=0,minutes:a=0,seconds:m=0}=s,u=M(n),g=r||t?W(u,r+t*12):u,x=d||i?$(g,d+i*7):g,c=a+l*60,v=(m+c*60)*1e3;return y(n,+x+v)}function N(n,s){const e=M(n);return e.setHours(0,0,0,0),e}function q(n,s,e){const[t,r]=b(e==null?void 0:e.in,n,s),i=N(t),d=N(r),l=+i-F(i),a=+d-F(d);return Math.round((l-a)/V)}function E(n,s,e){const[t,r]=b(e==null?void 0:e.in,n,s);return t.getFullYear()-r.getFullYear()}function G(n,s,e){const[t,r]=b(e==null?void 0:e.in,n,s),i=S(t,r),d=Math.abs(q(t,r));t.setDate(t.getDate()-i*d);const l=+(S(t,r)===-i),a=i*(d-l);return a===0?0:a}function S(n,s){const e=n.getFullYear()-s.getFullYear()||n.getMonth()-s.getMonth()||n.getDate()-s.getDate()||n.getHours()-s.getHours()||n.getMinutes()-s.getMinutes()||n.getSeconds()-s.getSeconds()||n.getMilliseconds()-s.getMilliseconds();return e<0?-1:e>0?1:e}function J(n,s,e){const[t,r]=b(e==null?void 0:e.in,n,s),i=(+t-+r)/j;return z(e==null?void 0:e.roundingMethod)(i)}function K(n,s,e){const t=L(n,s)/U;return z(e==null?void 0:e.roundingMethod)(t)}function X(n,s,e){const[t,r]=b(e==null?void 0:e.in,n,s),i=p(t,r),d=Math.abs(E(t,r));t.setFullYear(1584),r.setFullYear(1584);const l=p(t,r)===-i,a=i*(d-+l);return a===0?0:a}function Z(n,s){const[e,t]=b(n,s.start,s.end);return{start:e,end:t}}function tt(n,s){const{start:e,end:t}=Z(s==null?void 0:s.in,n),r={},i=X(t,e);i&&(r.years=i);const d=_(e,{years:r.years}),l=Q(t,d);l&&(r.months=l);const a=_(d,{months:r.months}),m=G(t,a);m&&(r.days=m);const u=_(a,{days:r.days}),g=J(t,u);g&&(r.hours=g);const x=_(u,{hours:r.hours}),c=K(t,x);c&&(r.minutes=c);const f=_(x,{minutes:r.minutes}),v=R(t,f);return v&&(r.seconds=v),r}const et={class:"min-h-screen bg-gradient-to-b from-rose-300 to-rose-600 p-4 flex flex-col items-center"},st={class:"w-full max-w-md mt-8 mb-6 text-center"},nt={class:"bg-amber-400 inline-flex items-center justify-center px-6 py-3 rounded-full"},rt={class:"text-black font-bold text-xl flex items-center"},ot={class:"bg-white rounded-3xl p-6 w-full max-w-md shadow-lg mb-6"},at={class:"grid grid-cols-2 gap-4"},it={class:"bg-blue-50 rounded-xl p-4 text-center"},dt={class:"text-blue-600 text-3xl font-bold mb-1"},lt={class:"bg-green-50 rounded-xl p-4 text-center"},ct={class:"text-green-600 text-3xl font-bold mb-1"},ut={class:"bg-white rounded-3xl p-6 w-full max-w-md shadow-lg mb-8"},ft={class:"flex justify-between items-center mb-6"},mt={class:"text-sm bg-gray-100 px-3 py-1 rounded-full text-gray-600"},gt={class:"space-y-3"},ht={class:"font-bold"},xt={class:"ml-3 flex-grow"},bt={class:"font-bold text-gray-800"},_t={class:"ml-3 flex-grow"},vt={class:"font-bold text-gray-800"},kt={__name:"Leaderboard",setup(n){const s=O();C();const e=Y(),{leaderboard:t}=H(e),r=l=>{const a=tt({start:0,end:l*1e3}),m=a.minutes??0,u=a.seconds??0;return`${m}m ${u}s`},i=P(()=>t.value.topPlayers.map(l=>({...l,durationFormatted:r(l.duration)}))),d=()=>{s.back()};return(l,a)=>{var m,u,g,x;return T(),D("div",et,[o("div",st,[a[2]||(a[2]=o("h1",{class:"text-3xl font-bold text-white mb-2"},"Quiz Complete!",-1)),o("div",nt,[o("span",rt,[a[1]||(a[1]=o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 mr-2",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M5 3a2 2 0 012-2h6a2 2 0 012 2v1h2a2 2 0 012 2v11a2 2 0 01-2 2H3a2 2 0 01-2-2V6a2 2 0 012-2h2V3zm6 0H9v1h2V3z","clip-rule":"evenodd"})],-1)),k(" Your Score: "+h(((u=(m=w(t))==null?void 0:m.userPoints)==null?void 0:u.score)||0)+" Points ",1)])])]),o("div",ot,[a[5]||(a[5]=o("h2",{class:"text-xl font-bold text-gray-800 mb-4 flex items-center"},[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 mr-2 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})]),k(" Quiz Statistics ")],-1)),o("div",at,[o("div",it,[o("div",dt,h(((g=w(t))==null?void 0:g.totalParticipants)||0),1),a[3]||(a[3]=o("div",{class:"text-blue-800 text-sm"},"Total Players",-1))]),o("div",lt,[o("div",ct,h(((x=w(t).topPlayers[0])==null?void 0:x.score)||0),1),a[4]||(a[4]=o("div",{class:"text-green-800 text-sm"},"Top Score",-1))])])]),o("div",ut,[o("div",ft,[a[6]||(a[6]=o("h2",{class:"text-xl font-bold text-gray-800 flex items-center"},[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 mr-2 text-amber-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})]),k(" Leaderboard ")],-1)),o("div",mt," Top "+h(w(t).topPlayers.length)+" Players ",1)]),o("div",gt,[(T(!0),D(B,null,A(i.value,(c,f)=>(T(),D("div",{key:c.id,class:I(["flex items-center py-3 px-4 rounded-xl",{"bg-amber-100 border-l-4 border-amber-500":c.isUser,"bg-gray-50":!c.isUser&&f%2===0,"bg-white":!c.isUser&&f%2!==0}])},[o("div",{class:I(["w-10 h-10 flex-shrink-0 flex items-center justify-center",{"bg-yellow-500 text-white rounded-full":f===0,"bg-gray-300 text-white rounded-full":f===1,"bg-amber-700 text-white rounded-full":f===2,"text-gray-700":f>2}])},[o("span",ht,h(f+1),1)],2),o("div",xt,[o("div",bt,h(c.name),1)]),o("div",_t,[o("div",vt,h(c.durationFormatted),1)]),o("div",{class:I(["font-bold text-lg",{"text-amber-600":c.isUser,"text-gray-800":!c.isUser}])},h(c.score),3)],2))),128))])]),o("button",{onClick:a[0]||(a[0]=c=>d()),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full"}," Back To My Contest ")])}}};export{kt as default};
