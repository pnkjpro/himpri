import{G as v,r as u,H as t}from"./index-lwxLPvsS.js";const M=v("admin",()=>{const n=u(!1);u(null);const c=u([]);async function d(a){var r,e;try{n.value=!0;const s=await t.post("/admin/category/create",a);return{success:s.data.success,message:s.data.message}}catch(s){return console.error("Error using Lifeline:",s),{success:!1,message:((e=(r=s.response)==null?void 0:r.data)==null?void 0:e.message)||"An unexpected error occurred"}}finally{n.value=!1}}async function g(a){var r,e;try{n.value=!0;const s=await t.post("/admin/quiz/create",a);return{success:s.data.success,message:s.data.message}}catch(s){return console.error("Error using Lifeline:",s),{success:!1,message:((e=(r=s.response)==null?void 0:r.data)==null?void 0:e.message)||"An unexpected error occurred"}}finally{n.value=!1}}async function f(){var a,r;try{n.value=!0;const e=await t.get("/admin/transaction/list/all");return c.value=[...e.data.data],console.log(c.value),{success:e.data.success,message:e.data.message}}catch(e){return console.error("Error using Lifeline:",e),{success:!1,message:((r=(a=e.response)==null?void 0:a.data)==null?void 0:r.message)||"An unexpected error occurred"}}finally{n.value=!1}}async function p(a,r){var e,s;try{console.log(a),n.value=!0;const o=await t.post("/admin/transaction/approval",{uid:a.user_id,approval_id:a.id,change_approval:r});if(o.data.success){const i={...a,approved_status:r},l=c.value.findIndex(m=>m.id===a.id);l!==-1&&(c.value[l]=i)}return{success:o.data.success,message:o.data.message}}catch(o){return console.error("Error using Lifeline:",o),{success:!1,message:((s=(e=o.response)==null?void 0:e.data)==null?void 0:s.message)||"An unexpected error occurred"}}finally{n.value=!1}}return{createCategory:d,createQuiz:g,fetchTransactions:f,statusApproval:p,allTransactions:c}});export{M as u};
