import{u as $,a as S,s as B,r as v,c as r,b as t,F,d as U,e as I,w as z,f as d,v as f,t as i,p as u,g as k,h as E,i as c,n as H,k as V,q as L,o as l,l as j,m as D}from"./index-CHPCHxS5.js";import{c as G,a as p,b as O}from"./index.esm-2kz1kJXo.js";import{l as W,F as q}from"./index.es-D6h3KQaZ.js";import{f as J,a as K}from"./index-BeD0zzHm.js";import{f as Q,a as X}from"./index-BwxAXx0b.js";const Y={class:"min-h-screen bg-gradient-to-b from-gray-100 to-gray-800 flex flex-col items-center relative overflow-hidden"},Z={class:"relative inset-0 opacity-10"},ee={class:"text-4xl text-gray-500"},te={class:"bg-white rounded-3xl p-8 w-11/12 max-w-md shadow-lg"},se={class:"mb-4 relative"},ae={key:0,class:"text-red-500 text-sm mt-1"},oe={class:"mb-4 relative"},re={key:0,class:"text-red-500 text-sm mt-1"},le={class:"mb-4 relative"},ie={key:0,class:"text-red-500 text-sm mt-1"},ne={class:"mb-4 relative"},de=["type"],ue={key:0,class:"text-red-500 text-sm mt-1"},me={class:"mb-4 relative"},ce=["type"],pe={key:0,class:"text-red-500 text-sm mt-1"},ve={class:"mb-4 relative"},fe={key:0,class:"text-red-500 text-sm mt-1"},ye=["disabled"],xe={key:0,class:"flex items-center justify-center"},ge={key:1},Ve={__name:"Register",setup(be){W.add(J,K,Q,X);const w=D(),h=L(),y=$(),m=S();B(m);const o=v({}),M=G().shape({name:p().required("Name is required"),mobile:p().matches(/^\d{10}$/,"Mobile number must be 10 digits").required("Mobile number is required"),email:p().email("Invalid email format").required("Email is required"),password:p().min(6,"Password must be at least 6 characters").required("Password is required"),password_confirmation:p().oneOf([O("password")],"Passwords must match").required("Confirm password is required")}),C=async()=>{try{return await M.validate(a.value,{abortEarly:!1}),o.value={},!0}catch(x){const e={};return x.inner.forEach(s=>{e[s.path]=s.message}),o.value=e,!1}},a=v({name:"",mobile:null,email:"",password:"",password_confirmation:"",refer_code:""});h.query.refer_code&&(a.value.refer_code=h.query.refer_code);const N=async()=>{if(!await C())return;const e=await m.register(a);if(!e.success){const s=e.message;typeof s=="object"&&s!==null&&!Array.isArray(s)?Object.values(s).forEach((g,b)=>{g.forEach((P,R)=>{setTimeout(()=>y.error(P),(b+R)*300)})}):Array.isArray(s)?s.forEach((g,b)=>{setTimeout(()=>y.error(g),b*300)}):y.error(s);return}T()},T=()=>{w.push("/home")},A=()=>{w.push("/auth/login")},n=v(!1);v(!1);const _=()=>{n.value=!n.value};return(x,e)=>(l(),r("div",Y,[t("div",Z,[(l(),r(F,null,U(20,s=>t("div",{key:s,class:"absolute",style:j({left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,transform:`rotate(${Math.random()*360}deg)`})},[t("div",ee,i(["⬠","⬡","◯","◫","◪","△","▽","◇","❖","✧","✦"][Math.floor(Math.random()*11)]),1)],4)),64))]),e[10]||(e[10]=I('<div class="mt-16 mb-8"><div class="flex items-center"><div class="text-6xl font-bold"><span class="text-orange-500">H</span><span class="text-purple-700">IMP</span><span class="text-blue-700">RI</span></div></div><div class="text-gray-600 italic text-center mt-1">LET THE GAME BEGIN</div></div>',1)),t("div",te,[e[7]||(e[7]=t("h1",{class:"text-4xl font-bold text-center text-gray-800 mb-2"},"Welcome Back!",-1)),e[8]||(e[8]=t("p",{class:"text-xl text-center text-gray-700 mb-8"},"Please log in with your details",-1)),t("form",{onSubmit:z(N,["prevent"])},[t("div",se,[d(t("input",{type:"text",placeholder:"Name",class:"w-full bg-gray-200 py-4 px-6 rounded-xl text-gray-700","onUpdate:modelValue":e[0]||(e[0]=s=>a.value.name=s)},null,512),[[f,a.value.name]]),o.value.name?(l(),r("p",ae,i(o.value.name),1)):u("",!0)]),t("div",oe,[d(t("input",{type:"number",placeholder:"Contact Number",class:"w-full bg-gray-200 py-4 px-6 rounded-xl text-gray-700","onUpdate:modelValue":e[1]||(e[1]=s=>a.value.mobile=s)},null,512),[[f,a.value.mobile]]),o.value.mobile?(l(),r("p",re,i(o.value.mobile),1)):u("",!0)]),t("div",le,[d(t("input",{type:"text",placeholder:"Email",class:"w-full bg-gray-200 py-4 px-6 rounded-xl text-gray-700","onUpdate:modelValue":e[2]||(e[2]=s=>a.value.email=s)},null,512),[[f,a.value.email]]),o.value.mobile?(l(),r("p",ie,i(o.value.email),1)):u("",!0)]),t("div",ne,[d(t("input",{type:n.value?"text":"password",placeholder:"Password",class:"w-full bg-gray-200 py-4 px-6 rounded-xl text-gray-700","onUpdate:modelValue":e[3]||(e[3]=s=>a.value.password=s)},null,8,de),[[k,a.value.password]]),o.value.mobile?(l(),r("p",ue,i(o.value.password),1)):u("",!0),t("button",{type:"button",onClick:_,class:"absolute right-4 top-1/2 transform -translate-y-1/2 text-yellow-400"},[E(c(q),{icon:n.value?"eye":"eye-slash"},null,8,["icon"])])]),t("div",me,[d(t("input",{type:n.value?"text":"password",placeholder:"Confirm Password",class:"w-full bg-gray-200 py-4 px-6 rounded-xl text-gray-700","onUpdate:modelValue":e[4]||(e[4]=s=>a.value.password_confirmation=s)},null,8,ce),[[k,a.value.password_confirmation]]),o.value.mobile?(l(),r("p",pe,i(o.value.password_confirmation),1)):u("",!0),t("button",{type:"button",onClick:_,class:"absolute right-4 top-1/2 transform -translate-y-1/2 text-yellow-400"},[E(c(q),{icon:n.value?"eye":"eye-slash"},null,8,["icon"])])]),t("div",ve,[d(t("input",{type:"text",placeholder:"Refer Code(Optional)",class:"w-full bg-gray-200 py-4 px-6 rounded-xl text-gray-700","onUpdate:modelValue":e[5]||(e[5]=s=>a.value.refer_code=s)},null,512),[[f,a.value.refer_code]]),o.value.refer_code?(l(),r("p",fe,i(o.value.refer_code),1)):u("",!0)]),t("button",{type:"submit",class:H(["w-full bg-orange-400 hover:bg-orange-500 text-white py-4 px-6 rounded-full text-xl font-bold transition duration-300",{"opacity-75 cursor-not-allowed":c(m).loading}]),disabled:c(m).loading},[c(m).loading?(l(),r("div",xe,e[6]||(e[6]=[t("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),V(" Registering... ")]))):(l(),r("span",ge,"Register"))],10,ye)],32)]),t("div",{onClick:A,class:"mt-8 mb-12 text-white text-lg"},e[9]||(e[9]=[V(" Already have an account? "),t("span",{class:"text-orange-400 font-bold"},"Login Now",-1)]))]))}};export{Ve as default};
