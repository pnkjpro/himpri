import{m as W,I as Y,V as J,W as K,X as R,Y as X,Z,_ as q,$ as G,J as H,p as Q,v as ee,r as u,M as U,o as te,c as l,b as e,g as r,u as a,t as d,f as h,h as c,n as D,F as se,d as oe,j as n,D as i,l as le}from"./index-BHNnW986.js";import{u as B}from"./mainStore-C-CtJKTC.js";import{_ as ne}from"./_plugin-vue_export-helper-DlAUqK2U.js";const re={class:"min-h-screen bg-gradient-to-b from-orange-50 via-red-50 to-orange-50"},ae={class:"flex justify-between items-center p-4 bg-gradient-to-r from-orange-600 to-red-600 text-white shadow-lg"},ie={key:0,class:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4"},de={class:"bg-white rounded-xl overflow-hidden max-w-4xl w-full max-h-full"},ce={class:"flex justify-between items-center p-4 bg-gradient-to-r from-red-600 to-orange-600 text-white"},ue={class:"text-lg font-bold"},fe={class:"relative"},xe=["src"],ge={class:"p-4"},pe={class:"text-gray-700 text-sm mb-2"},he={class:"flex items-center text-xs text-gray-500"},me={class:"mr-4"},be={key:1,class:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4"},ve={class:"bg-white rounded-xl overflow-hidden max-w-4xl w-full max-h-full"},_e={class:"flex justify-between items-center p-4 bg-gradient-to-r from-red-600 to-orange-600 text-white"},ye={class:"text-lg font-bold"},we={class:"flex space-x-2"},ke=["href","download"],Ve={class:"relative h-96 md:h-[600px]"},Ce=["src"],Pe={class:"p-4"},Ue={class:"text-gray-700 text-sm mb-2"},De={class:"flex items-center text-xs text-gray-500"},je={class:"mr-4"},Fe={key:2,class:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4"},Ee={class:"bg-white rounded-xl p-6 max-w-md w-full"},$e={class:"text-center mb-6"},Le={class:"bg-gradient-to-r from-red-500 to-orange-500 rounded-full p-4 w-16 h-16 mx-auto mb-4"},Ne={class:"bg-gradient-to-r from-orange-50 to-red-50 p-4 rounded-lg mb-6"},Be={class:"font-bold text-lg text-gray-900 mb-2"},Me={class:"flex items-center justify-between"},ze={class:"text-2xl font-bold text-green-600"},Ie={class:"flex space-x-3"},Se=["disabled"],Te={key:0},Ae={key:1},Oe={class:"p-4"},We={class:"grid grid-cols-2 gap-4 mb-6"},Ye={class:"bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-xl border border-green-200"},Je={class:"flex items-center"},Ke={class:"bg-green-500 p-3 rounded-full mr-3"},Re={class:"text-2xl font-bold text-green-800"},Xe={class:"bg-gradient-to-r from-orange-50 to-red-50 p-4 rounded-xl border border-orange-200"},Ze={class:"flex items-center"},qe={class:"bg-orange-500 p-3 rounded-full mr-3"},Ge={class:"text-2xl font-bold text-orange-800"},He={class:"flex mb-6 bg-white rounded-xl p-1 shadow-md"},Qe={class:"space-y-4"},et={class:"flex"},tt={class:"relative w-40 h-28 flex-shrink-0"},st=["src","alt"],ot={key:0,class:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center"},lt={class:"bg-red-500 rounded-full p-2"},nt=["onClick"],rt={class:"bg-red-600 rounded-full p-3 hover:bg-red-700 transition-colors"},at=["onClick"],it={class:"bg-blue-600 rounded-full p-3 hover:bg-blue-700 transition-colors"},dt={class:"absolute top-2 left-2 flex flex-col space-y-1"},ct={key:0,class:"bg-red-600 text-white text-xs px-2 py-1 rounded-full"},ut={key:1,class:"bg-blue-600 text-white text-xs px-2 py-1 rounded-full"},ft={key:3,class:"absolute bottom-2 right-2 bg-black bg-opacity-75 text-white text-xs px-2 py-1 rounded"},xt={class:"flex-1 p-4 flex flex-col justify-between"},gt={class:"text-lg font-bold text-gray-900 mb-1 line-clamp-2"},pt={class:"text-sm text-gray-600 mb-2 line-clamp-2"},ht={class:"flex items-center text-xs text-gray-500"},mt={key:0,class:"bg-purple-100 text-purple-600 px-2 py-1 rounded-full text-xs"},bt={key:1,class:"bg-red-100 text-red-600 px-2 py-1 rounded-full text-xs"},vt={key:2,class:"bg-blue-100 text-blue-600 px-2 py-1 rounded-full text-xs"},_t={class:"mt-3"},yt={key:0,class:"space-y-2"},wt=["onClick"],kt=["onClick"],Vt=["href","download"],Ct=["onClick"],Pt={key:0,class:"text-center py-12"},Ut={class:"bg-gray-100 rounded-full p-6 w-24 h-24 mx-auto mb-4"},Dt={__name:"ExpertVideos",setup(jt){W.add(Y,J,K,R,X,Z,q,G,H,Q);const M=le(),b=ee(),f=u("all"),v=u(!1),_=u(!1),y=u(!1),g=u(null),x=u(null),m=u(null),w=u(!1),V=u(null),p=u([]),j=U(()=>f.value==="all"?p.value:f.value==="unlocked"?p.value.filter(o=>o.purchased):f.value==="locked"?p.value.filter(o=>!o.purchased):p.value),z=U(()=>p.value.filter(o=>o.purchased).length),I=U(()=>p.value.filter(o=>!o.purchased).length),S=()=>{M.go(-1)},F=o=>{if(!o.purchased){C(o);return}if(!o.videoUrl){b.error("Video not available for this content");return}g.value=o,v.value=!0},E=o=>{if(!o.purchased){C(o);return}if(!o.pdfUrl){b.error("PDF not available for this content");return}x.value=o,y.value=!0},$=()=>{v.value=!1,V.value&&V.value.pause(),g.value=null},L=()=>{y.value=!1,x.value=null},C=o=>{m.value=o,_.value=!0},P=()=>{_.value=!1,m.value=null},T=async()=>{w.value=!0;try{const o=await B().purchaseExpertVideo(m.value.id);b.success("Video purchased successfully!"),P()}catch{b.error("Purchase failed. Please try again.")}finally{w.value=!1,N()}},A=()=>{console.log("Video loaded")},O=()=>{console.log("Video ended")},N=async()=>{const o=await B().fetchUserExpertVideos();p.value=o.data.videos.map(t=>({...t,purchased:t.purchased||!1,videoUrl:t.videoUrl||null,pdfUrl:t.pdfUrl||null,thumbnail:t.thumbnail||"/images/fallbackImage.png"}))};return te(()=>{N();const o=t=>{t.key==="Escape"&&(v.value?$():y.value?L():_.value&&P())};return document.addEventListener("keydown",o),()=>{document.removeEventListener("keydown",o)}}),(o,t)=>(n(),l("div",re,[e("header",ae,[e("button",{onClick:S,class:"p-3 rounded-full bg-red-500 hover:bg-red-400 transition-colors shadow-md"},[r(a(i),{icon:"arrow-left",class:"text-xl text-white"})]),t[3]||(t[3]=e("h1",{class:"text-xl font-bold"},"Expert Content",-1)),t[4]||(t[4]=e("div",{class:"w-12"},null,-1))]),v.value?(n(),l("div",ie,[e("div",de,[e("div",ce,[e("h3",ue,d(g.value.title),1),e("button",{onClick:$,class:"p-2 hover:bg-red-500 rounded-full transition-colors"},[r(a(i),{icon:"times",class:"text-xl"})])]),e("div",fe,[e("video",{ref_key:"videoPlayer",ref:V,controls:"",preload:"metadata",class:"w-full max-h-96 bg-black",onLoadedmetadata:A,onEnded:O},[e("source",{src:g.value.videoUrl,type:"video/mp4"},null,8,xe),t[5]||(t[5]=h(" Your browser does not support the video tag. "))],544)]),e("div",ge,[e("p",pe,d(g.value.description),1),e("div",he,[e("span",me,"Duration: "+d(g.value.duration),1),e("span",null,"Category: "+d(g.value.category),1)])])])])):c("",!0),y.value?(n(),l("div",be,[e("div",ve,[e("div",_e,[e("h3",ye,d(x.value.title)+" - PDF Document",1),e("div",we,[e("a",{href:x.value.pdfUrl,download:`${x.value.title}.pdf`,class:"p-2 hover:bg-red-500 rounded-full transition-colors",title:"Download PDF"},[r(a(i),{icon:"download",class:"text-lg"})],8,ke),e("button",{onClick:L,class:"p-2 hover:bg-red-500 rounded-full transition-colors"},[r(a(i),{icon:"times",class:"text-xl"})])])]),e("div",Ve,[e("iframe",{src:x.value.pdfUrl,class:"w-full h-full border-none",title:"PDF Viewer"},null,8,Ce)]),e("div",Pe,[e("p",Ue,d(x.value.description),1),e("div",De,[e("span",je,"Category: "+d(x.value.category),1),t[6]||(t[6]=e("span",null,"PDF Document",-1))])])])])):c("",!0),_.value?(n(),l("div",Fe,[e("div",Ee,[e("div",$e,[e("div",Le,[r(a(i),{icon:"lock",class:"text-white text-2xl"})]),t[7]||(t[7]=e("h3",{class:"text-xl font-bold text-gray-900 mb-2"},"Premium Content",-1)),t[8]||(t[8]=e("p",{class:"text-gray-600"},"This video is part of our premium collection",-1))]),e("div",Ne,[e("h4",Be,d(m.value.title),1),e("div",Me,[t[9]||(t[9]=e("span",{class:"text-gray-600"},"Price:",-1)),e("span",ze,"â‚¹"+d(m.value.price),1)])]),e("div",Ie,[e("button",{onClick:P,class:"flex-1 py-3 px-4 bg-gray-200 text-gray-800 rounded-lg font-medium hover:bg-gray-300 transition-colors"}," Cancel "),e("button",{onClick:T,disabled:w.value,class:"flex-1 py-3 px-4 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg font-medium hover:from-green-600 hover:to-emerald-700 transition-colors disabled:opacity-50"},[w.value?(n(),l("span",Te,"Purchasing...")):(n(),l("span",Ae,"Purchase"))],8,Se)])])])):c("",!0),e("div",Oe,[e("div",We,[e("div",Ye,[e("div",Je,[e("div",Ke,[r(a(i),{icon:"unlock",class:"text-white text-lg"})]),e("div",null,[e("h3",Re,d(z.value),1),t[10]||(t[10]=e("p",{class:"text-green-600 text-sm"},"Unlocked",-1))])])]),e("div",Xe,[e("div",Ze,[e("div",qe,[r(a(i),{icon:"lock",class:"text-white text-lg"})]),e("div",null,[e("h3",Ge,d(I.value),1),t[11]||(t[11]=e("p",{class:"text-orange-600 text-sm"},"Locked",-1))])])])]),e("div",He,[e("button",{onClick:t[0]||(t[0]=s=>f.value="all"),class:D(["flex-1 py-3 px-4 rounded-lg font-medium transition-colors",f.value==="all"?"bg-gradient-to-r from-red-500 to-orange-500 text-white":"text-gray-600 hover:bg-gray-100"])}," All Content ",2),e("button",{onClick:t[1]||(t[1]=s=>f.value="unlocked"),class:D(["flex-1 py-3 px-4 rounded-lg font-medium transition-colors",f.value==="unlocked"?"bg-gradient-to-r from-green-500 to-emerald-500 text-white":"text-gray-600 hover:bg-gray-100"])}," Unlocked ",2),e("button",{onClick:t[2]||(t[2]=s=>f.value="locked"),class:D(["flex-1 py-3 px-4 rounded-lg font-medium transition-colors",f.value==="locked"?"bg-gradient-to-r from-orange-500 to-red-500 text-white":"text-gray-600 hover:bg-gray-100"])}," Locked ",2)]),e("div",Qe,[(n(!0),l(se,null,oe(j.value,s=>(n(),l("div",{key:s.id,class:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow"},[e("div",et,[e("div",tt,[e("img",{src:s.thumbnail,alt:s.title,class:"w-full h-full object-cover"},null,8,st),s.isUnlocked?s.videoUrl?(n(),l("div",{key:1,onClick:k=>F(s),class:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center cursor-pointer hover:bg-opacity-50 transition-all"},[e("div",rt,[r(a(i),{icon:"play",class:"text-white text-xl"})])],8,nt)):s.pdfUrl?(n(),l("div",{key:2,onClick:k=>E(s),class:"absolute inset-0 bg-black bg-opacity-30 flex items-center justify-center cursor-pointer hover:bg-opacity-50 transition-all"},[e("div",it,[r(a(i),{icon:"file-pdf",class:"text-white text-xl"})])],8,at)):c("",!0):(n(),l("div",ot,[e("div",lt,[r(a(i),{icon:"lock",class:"text-white text-lg"})])])),e("div",dt,[s.videoUrl?(n(),l("span",ct,[r(a(i),{icon:"play",class:"mr-1"}),t[12]||(t[12]=h(" Video "))])):c("",!0),s.pdfUrl?(n(),l("span",ut,[r(a(i),{icon:"file-pdf",class:"mr-1"}),t[13]||(t[13]=h(" PDF "))])):c("",!0)]),s.videoUrl&&s.duration?(n(),l("div",ft,d(s.duration),1)):c("",!0)]),e("div",xt,[e("div",null,[e("h3",gt,d(s.title),1),e("p",pt,d(s.description),1),e("div",ht,[s.videoUrl&&s.pdfUrl?(n(),l("span",mt," Video + PDF ")):s.videoUrl?(n(),l("span",bt," Video Only ")):s.pdfUrl?(n(),l("span",vt," PDF Only ")):c("",!0)])]),e("div",_t,[s.purchased?(n(),l("div",yt,[s.videoUrl?(n(),l("button",{key:0,onClick:k=>F(s),class:"w-full py-2 bg-gradient-to-r from-red-500 to-orange-600 text-white rounded-lg font-medium hover:from-red-600 hover:to-orange-700 transition-colors flex items-center justify-center"},[r(a(i),{icon:"play",class:"mr-2"}),t[14]||(t[14]=h(" Watch Video "))],8,wt)):c("",!0),s.pdfUrl?(n(),l("button",{key:1,onClick:k=>E(s),class:"w-full py-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg font-medium hover:from-blue-600 hover:to-indigo-700 transition-colors flex items-center justify-center"},[r(a(i),{icon:"file-pdf",class:"mr-2"}),t[15]||(t[15]=h(" View PDF "))],8,kt)):c("",!0),s.pdfUrl&&s.videoUrl?(n(),l("a",{key:2,href:s.pdfUrl,download:`${s.title}.pdf`,class:"w-full py-1 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors flex items-center justify-center text-sm"},[r(a(i),{icon:"download",class:"mr-2"}),t[16]||(t[16]=h(" Download PDF "))],8,Vt)):c("",!0)])):(n(),l("button",{key:1,onClick:k=>C(s),class:"w-full py-2 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-lg font-medium hover:from-orange-600 hover:to-red-600 transition-colors flex items-center justify-center"},[r(a(i),{icon:"shopping-cart",class:"mr-2"}),h(" Buy for â‚¹"+d(s.price),1)],8,Ct))])])])]))),128))]),j.value.length===0?(n(),l("div",Pt,[e("div",Ut,[r(a(i),{icon:"video-slash",class:"text-gray-400 text-4xl"})]),t[17]||(t[17]=e("h3",{class:"text-xl font-bold text-gray-700 mb-2"},"No Content Found",-1)),t[18]||(t[18]=e("p",{class:"text-gray-500"},"No videos or PDFs match the current filter",-1))])):c("",!0)])]))}},Lt=ne(Dt,[["__scopeId","data-v-2b548362"]]);export{Lt as default};
